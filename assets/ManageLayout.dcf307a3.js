import{K as Pe,aq as We,M as ze,ar as He,N as Ze,at as Ne,i as Ue,W as ee,r as p,c as n,av as Ke,aK as Re,w as c,o as je,a9 as fe,X as Ge,z as N,h as W,aL as ve,L as Xe,Z as Je,g as Ye,aM as ea,d as aa,l as ta,aN as ua,m as F,n as z,p as i,j as o,Q as $,v as w,H as la,x as ae,t as H,aO as oa,f as na,y as me,A as he,B as Q,q as te,U as ue,F as ge,G as ra,s as be,aP as ia}from"./index.4f390c6a.js";import{Q as ye}from"./QToolbarTitle.5e2b8a84.js";import{Q as we}from"./QItemLabel.95b24a48.js";import{Q as pe}from"./QList.423862dd.js";import{Q as sa}from"./QBtnDropdown.38ff8e37.js";import{Q as Be}from"./QToolbar.582a7924.js";import{Q as da,a as ca,b as fa}from"./QLayout.1bc9c1a4.js";import{T as le}from"./TouchPan.5282a72c.js";import{b as Z}from"./format.6396bb17.js";import{C as va}from"./ClosePopup.14229a43.js";import{l as Ae}from"./locale-options.a93a5ee4.js";import{u as ma}from"./SearchKey.a606d0cd.js";import{m as ha,a as ga,b as ba}from"./index.d9f23821.js";import{u as ya}from"./use-quasar.4e14d354.js";import{s as wa}from"./constant.a3c7e21e.js";import{u as pa}from"./vue-i18n.runtime.b0371a81.js";import"./QMenu.75c03351.js";import"./selection.1482bdb7.js";import"./QResizeObserver.cb7e3544.js";import"./QScrollObserver.ad751985.js";const _e=150;var Ba=Pe({name:"QDrawer",inheritAttrs:!1,props:{...We,...ze,side:{type:String,default:"left",validator:a=>["left","right"].includes(a)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:a=>["default","desktop","mobile"].includes(a),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...He,"onLayout","miniState"],setup(a,{slots:E,emit:d,attrs:f}){const y=Ye(),{proxy:{$q:h}}=y,x=Ze(a,h),{preventBodyScroll:D}=ea(),{registerTimeout:V,removeTimeout:L}=Ne(),t=Ue(Je,ee);if(t===ee)return console.error("QDrawer needs to be child of QLayout"),ee;let v,s=null,C;const u=p(a.behavior==="mobile"||a.behavior!=="desktop"&&t.totalWidth.value<=a.breakpoint),A=n(()=>a.mini===!0&&u.value!==!0),g=n(()=>A.value===!0?a.miniWidth:a.width),r=p(a.showIfAbove===!0&&u.value===!1?!0:a.modelValue===!0),oe=n(()=>a.persistent!==!0&&(u.value===!0||Ce.value===!0));function ne(e,l){if(ke(),e!==!1&&t.animate(),b(0),u.value===!0){const m=t.instances[I.value];m!==void 0&&m.belowBreakpoint===!0&&m.hide(!1),_(1),t.isContainer.value!==!0&&D(!0)}else _(0),e!==!1&&X(!1);V(()=>{e!==!1&&X(!0),l!==!0&&d("show",e)},_e)}function re(e,l){Ee(),e!==!1&&t.animate(),_(0),b(S.value*g.value),J(),l!==!0?V(()=>{d("hide",e)},_e):L()}const{show:U,hide:M}=Ke({showing:r,hideOnRouteChange:oe,handleShow:ne,handleHide:re}),{addToHistory:ke,removeFromHistory:Ee}=Re(r,M,oe),O={belowBreakpoint:u,hide:M},B=n(()=>a.side==="right"),S=n(()=>(h.lang.rtl===!0?-1:1)*(B.value===!0?1:-1)),ie=p(0),q=p(!1),K=p(!1),se=p(g.value*S.value),I=n(()=>B.value===!0?"left":"right"),R=n(()=>r.value===!0&&u.value===!1&&a.overlay===!1?a.miniToOverlay===!0?a.miniWidth:g.value:0),j=n(()=>a.overlay===!0||a.miniToOverlay===!0||t.view.value.indexOf(B.value?"R":"L")>-1||h.platform.is.ios===!0&&t.isContainer.value===!0),T=n(()=>a.overlay===!1&&r.value===!0&&u.value===!1),Ce=n(()=>a.overlay===!0&&r.value===!0&&u.value===!1),Fe=n(()=>"fullscreen q-drawer__backdrop"+(r.value===!1&&q.value===!1?" hidden":"")),xe=n(()=>({backgroundColor:`rgba(0,0,0,${ie.value*.4})`})),de=n(()=>B.value===!0?t.rows.value.top[2]==="r":t.rows.value.top[0]==="l"),Se=n(()=>B.value===!0?t.rows.value.bottom[2]==="r":t.rows.value.bottom[0]==="l"),qe=n(()=>{const e={};return t.header.space===!0&&de.value===!1&&(j.value===!0?e.top=`${t.header.offset}px`:t.header.space===!0&&(e.top=`${t.header.size}px`)),t.footer.space===!0&&Se.value===!1&&(j.value===!0?e.bottom=`${t.footer.offset}px`:t.footer.space===!0&&(e.bottom=`${t.footer.size}px`)),e}),De=n(()=>{const e={width:`${g.value}px`,transform:`translateX(${se.value}px)`};return u.value===!0?e:Object.assign(e,qe.value)}),Me=n(()=>"q-drawer__content fit "+(t.isContainer.value!==!0?"scroll":"overflow-auto")),Te=n(()=>`q-drawer q-drawer--${a.side}`+(K.value===!0?" q-drawer--mini-animate":"")+(a.bordered===!0?" q-drawer--bordered":"")+(x.value===!0?" q-drawer--dark q-dark":"")+(q.value===!0?" no-transition":r.value===!0?"":" q-layout--prevent-focus")+(u.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${A.value===!0?"mini":"standard"}`+(j.value===!0||T.value!==!0?" fixed":"")+(a.overlay===!0||a.miniToOverlay===!0?" q-drawer--on-top":"")+(de.value===!0?" q-drawer--top-padding":""))),$e=n(()=>{const e=h.lang.rtl===!0?a.side:I.value;return[[le,Oe,void 0,{[e]:!0,mouse:!0}]]}),Qe=n(()=>{const e=h.lang.rtl===!0?I.value:a.side;return[[le,ce,void 0,{[e]:!0,mouse:!0}]]}),Ve=n(()=>{const e=h.lang.rtl===!0?I.value:a.side;return[[le,ce,void 0,{[e]:!0,mouse:!0,mouseAllDir:!0}]]});function G(){Ie(u,a.behavior==="mobile"||a.behavior!=="desktop"&&t.totalWidth.value<=a.breakpoint)}c(u,e=>{e===!0?(v=r.value,r.value===!0&&M(!1)):a.overlay===!1&&a.behavior!=="mobile"&&v!==!1&&(r.value===!0?(b(0),_(0),J()):U(!1))}),c(()=>a.side,(e,l)=>{t.instances[l]===O&&(t.instances[l]=void 0,t[l].space=!1,t[l].offset=0),t.instances[e]=O,t[e].size=g.value,t[e].space=T.value,t[e].offset=R.value}),c(t.totalWidth,()=>{(t.isContainer.value===!0||document.qScrollPrevented!==!0)&&G()}),c(()=>a.behavior+a.breakpoint,G),c(t.isContainer,e=>{r.value===!0&&D(e!==!0),e===!0&&G()}),c(t.scrollbarWidth,()=>{b(r.value===!0?0:void 0)}),c(R,e=>{k("offset",e)}),c(T,e=>{d("onLayout",e),k("space",e)}),c(B,()=>{b()}),c(g,e=>{b(),Y(a.miniToOverlay,e)}),c(()=>a.miniToOverlay,e=>{Y(e,g.value)}),c(()=>h.lang.rtl,()=>{b()}),c(()=>a.mini,()=>{a.noMiniAnimation||a.modelValue===!0&&(Le(),t.animate())}),c(A,e=>{d("miniState",e)});function b(e){e===void 0?fe(()=>{e=r.value===!0?0:g.value,b(S.value*e)}):(t.isContainer.value===!0&&B.value===!0&&(u.value===!0||Math.abs(e)===g.value)&&(e+=S.value*t.scrollbarWidth.value),se.value=e)}function _(e){ie.value=e}function X(e){const l=e===!0?"remove":t.isContainer.value!==!0?"add":"";l!==""&&document.body.classList[l]("q-body--drawer-toggle")}function Le(){s!==null&&clearTimeout(s),y.proxy&&y.proxy.$el&&y.proxy.$el.classList.add("q-drawer--mini-animate"),K.value=!0,s=setTimeout(()=>{s=null,K.value=!1,y&&y.proxy&&y.proxy.$el&&y.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function Oe(e){if(r.value!==!1)return;const l=g.value,m=Z(e.distance.x,0,l);if(e.isFinal===!0){m>=Math.min(75,l)===!0?U():(t.animate(),_(0),b(S.value*l)),q.value=!1;return}b((h.lang.rtl===!0?B.value!==!0:B.value)?Math.max(l-m,0):Math.min(0,m-l)),_(Z(m/l,0,1)),e.isFirst===!0&&(q.value=!0)}function ce(e){if(r.value!==!0)return;const l=g.value,m=e.direction===a.side,P=(h.lang.rtl===!0?m!==!0:m)?Z(e.distance.x,0,l):0;if(e.isFinal===!0){Math.abs(P)<Math.min(75,l)===!0?(t.animate(),_(1),b(0)):M(),q.value=!1;return}b(S.value*P),_(Z(1-P/l,0,1)),e.isFirst===!0&&(q.value=!0)}function J(){D(!1),X(!0)}function k(e,l){t.update(a.side,e,l)}function Ie(e,l){e.value!==l&&(e.value=l)}function Y(e,l){k("size",e===!0?a.miniWidth:l)}return t.instances[a.side]=O,Y(a.miniToOverlay,g.value),k("space",T.value),k("offset",R.value),a.showIfAbove===!0&&a.modelValue!==!0&&r.value===!0&&a["onUpdate:modelValue"]!==void 0&&d("update:modelValue",!0),je(()=>{d("onLayout",T.value),d("miniState",A.value),v=a.showIfAbove===!0;const e=()=>{(r.value===!0?ne:re)(!1,!0)};if(t.totalWidth.value!==0){fe(e);return}C=c(t.totalWidth,()=>{C(),C=void 0,r.value===!1&&a.showIfAbove===!0&&u.value===!1?U(!1):e()})}),Ge(()=>{C!==void 0&&C(),s!==null&&(clearTimeout(s),s=null),r.value===!0&&J(),t.instances[a.side]===O&&(t.instances[a.side]=void 0,k("size",0),k("offset",0),k("space",!1))}),()=>{const e=[];u.value===!0&&(a.noSwipeOpen===!1&&e.push(N(W("div",{key:"open",class:`q-drawer__opener fixed-${a.side}`,"aria-hidden":"true"}),$e.value)),e.push(ve("div",{ref:"backdrop",class:Fe.value,style:xe.value,"aria-hidden":"true",onClick:M},void 0,"backdrop",a.noSwipeBackdrop!==!0&&r.value===!0,()=>Ve.value)));const l=A.value===!0&&E.mini!==void 0,m=[W("div",{...f,key:""+l,class:[Me.value,f.class]},l===!0?E.mini():Xe(E.default))];return a.elevated===!0&&r.value===!0&&m.push(W("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),e.push(ve("aside",{ref:"content",class:Te.value,style:De.value},m,"contentclose",a.noSwipeClose!==!0&&u.value===!0,()=>Qe.value)),W("div",{class:"q-drawer-container"},e)}}});const Aa="M20 16a3 3 0 0 0-1.73.56l-2.45-1.45A3.74 3.74 0 0 0 16 14a4 4 0 0 0-3-3.86V7.82a3 3 0 1 0-2 0v2.32A4 4 0 0 0 8 14a3.74 3.74 0 0 0 .18 1.11l-2.45 1.45A3 3 0 0 0 4 16a3 3 0 1 0 3 3 3 3 0 0 0-.12-.8l2.3-1.37a4 4 0 0 0 5.64 0l2.3 1.37A3 3 0 1 0 20 16ZM4 20a1 1 0 1 1 1-1 1 1 0 0 1-1 1Zm8-16a1 1 0 1 1-1 1 1 1 0 0 1 1-1Zm0 12a2 2 0 1 1 2-2 2 2 0 0 1-2 2Zm8 4a1 1 0 1 1 1-1 1 1 0 0 1-1 1Z",_a="M34,24.94,21.18,18.38A1.5,1.5,0,0,0,19,19.71V32.84a1.5,1.5,0,0,0,2.18,1.34L34,27.61A1.5,1.5,0,0,0,34,24.94ZM17,32H7.38a4.54,4.54,0,0,0,.76-2.5V6.5a2.5,2.5,0,0,1,5,0V11H25.22v7.12l2,1v-8h3.92V6.58a4.49,4.49,0,0,0-4.48-4.5h-16a4.49,4.49,0,0,0-4.5,4.48h0v23a2.5,2.5,0,0,1-2.5,2.5A2.44,2.44,0,0,1,2.88,32v2a3.84,3.84,0,0,0,.76.08H17.23A3.41,3.41,0,0,1,17,32.84ZM26.64,4.12a2.49,2.49,0,0,1,2.5,2.46V9.12h-14V6.58a4.54,4.54,0,0,0-.76-2.5Z|0 0 36 36",ka={key:1,class:"text-grey-4"},Ea={style:{"font-size":"8px"}},Ca={class:"q-my-lg q-px-md"},Ra=aa({__name:"ManageLayout",setup(a){const E=ya(),{locale:d}=pa({useScope:"global"}),f=ma(),y=p(),h=p(f.key||""),x=p(!1),D=p([{title:"\u7535\u6E90\u63A7\u5236\u53F0",note:"\u4EC5\u7528\u4E8E\u6D4B\u8BD5\u7EF4\u62A4\u53CA\u7A81\u53D1\u60C5\u51B5",url:"/manage/power_dashboard",icon:"power_settings_new"},{title:"\u7EF4\u62A4\u3001\u6D4B\u8BD5",note:"\u4E92\u52A8\u6A21\u5F0F\u3002\u6D4B\u8BD5\u8BBE\u5907\u72B6\u51B5",url:"/manage/maintain",icon:"build"},{title:"\u8BA2\u5355",note:"\u67E5\u770B\u55B7\u6CC9\u7684\u5F53\u6708\u8BA2\u5355",url:"/manage/orders",icon:"list_alt"},{title:"\u7528\u6237",note:"\u7528\u6237\u6570\u636E\u3002\u53EA\u53EF\u7F16\u8F91\u89D2\u8272\u548C\u72B6\u6001",url:"/manage/users",icon:"person"},{title:"\u55B7\u6CC9",note:"\u521B\u5EFA\u3001\u7F16\u8F91\u55B7\u6CC9\u6570\u636E",url:"/manage/fountains",icon:ha},{title:"\u5A92\u4F53",note:"\u521B\u5EFA\u3001\u7F16\u8F91\u5A92\u4F53\u6570\u636E",url:"/manage/media",icon:"movie"},{title:"\u573A\u6B21",note:"\u521B\u5EFA\u3001\u7F16\u8F91\u573A\u6B21\u6570\u636E",url:"/manage/shows",icon:"slideshow"},{title:"\u8282\u76EE",note:"\u521B\u5EFA\u3001\u7F16\u8F91\u8282\u76EE\u6570\u636E",url:"/manage/programs",icon:"description"},{title:"\u811A\u672C",note:"\u521B\u5EFA\u3001\u7F16\u8F91\u811A\u672C\u6570\u636E",url:"/manage/scripts",icon:ga},{title:"Group",note:"grandMA2 Group",url:"/manage/groups",icon:ba},{title:"Executor",note:"grandMA2 Executor",url:"/manage/execs",icon:_a},{title:"Effect Attribute",note:"grandMA2 Effect Attribute",url:"/manage/effect_attribs",icon:"edit_attributes"},{title:"Channel",note:"grandMA2 Executor Channel",url:"/manage/channels",icon:Aa},{title:"PowerDashboardEditor",note:"\u521B\u5EFA\u3001\u7F16\u8F91\u7535\u6E90\u63A7\u5236\u53F0\u6570\u636E",url:"/manage/power_dashboard_editor",icon:"dashboard_customize"},{title:"SwitchCommands",note:"\u521B\u5EFA\u3001\u7F16\u8F91\u7535\u6E90\u5F00\u5173\u6570\u636E",url:"/manage/switch_command",icon:"toggle_off"},{title:"\u5916\u90E8\u8D44\u6E90",note:"\u521B\u5EFA\u3001\u7F16\u8F91\u5916\u90E8\u670D\u52A1\u8D44\u6E90",url:"/manage/external_resource",icon:"send"}]);ta(()=>{f.getEnable||f.toggleEnable(),f.getShow&&f.toggleShow()});const V=n(()=>{const v=Ae.find(s=>{if(typeof d.value=="string")return s.value===d.value});return v?`img:${v.flag}`:"language"});function L(){x.value=!x.value}async function t(){var v;f.toggleShow(),f.getShow&&(await wa(50),(v=y.value)==null||v.select())}return(v,s)=>{const C=ua("router-view");return F(),z(da,{view:"hHh Lpr fff"},{default:i(()=>[o(ca,{elevated:""},{default:i(()=>[o(Be,{dense:""},{default:i(()=>[o($,{flat:"",dense:"",round:"",clickable:"",type:"button",icon:"menu",onClick:L}),o(ye,null,{default:i(()=>[w(f).isEnable&&w(f).isShow?(F(),z(w(la),{key:0,ref_key:"searchInput",ref:y,standout:"bg-primary text-white",dense:"",clearable:"",debounce:"900",modelValue:h.value,"onUpdate:modelValue":[s[0]||(s[0]=u=>h.value=u),w(f).setKey],placeholder:v.$t("main_layout.search")},null,8,["modelValue","placeholder","onUpdate:modelValue"])):(F(),ae("div",ka,H(v.$t(`manage_layout.${v.$route.path.split("/").pop()}`)),1))]),_:1}),N(o($,{class:"q-mr-md",dense:"",flat:"",round:"",icon:"search","aria-label":"Search",onClick:t},null,512),[[oa,w(f).isEnable]]),o($,{class:"q-mr-md",dense:"",flat:"",round:"",onClick:s[1]||(s[1]=u=>w(E).dark.toggle()),color:w(E).dark.isActive?"white":"black",icon:w(E).dark.isActive?"light_mode":"brightness_2"},null,8,["color","icon"]),o(sa,{class:"q-py-sm q-mr-sm",color:"light","dropdown-icon":V.value,"no-icon-animation":"",flat:"",dense:""},{default:i(()=>[o(pe,{modelValue:w(d),"onUpdate:modelValue":s[2]||(s[2]=u=>na(d)?d.value=u:null)},{default:i(()=>[(F(!0),ae(ge,null,me(w(Ae),u=>N((F(),z(he,{key:u.label,active:u.value==w(d),clickable:"",onClick:A=>d.value=u.value},{default:i(()=>[o(Q,null,{default:i(()=>[o(we,null,{default:i(()=>[te(H(u.label),1)]),_:2},1024)]),_:2},1024),o(Q,{side:""},{default:i(()=>[o(ue,{name:`img:${u.flag}`},null,8,["name"])]),_:2},1024)]),_:2},1032,["active","onClick"])),[[va]])),128))]),_:1},8,["modelValue"])]),_:1},8,["dropdown-icon"])]),_:1})]),_:1}),o(Ba,{"show-if-above":"",modelValue:x.value,"onUpdate:modelValue":s[3]||(s[3]=u=>x.value=u),side:"left",bordered:""},{default:i(()=>[o(Be,{dense:"",onClick:L},{default:i(()=>[o(ye,null,{default:i(()=>[te("\u7BA1\u7406\u6761\u76EE")]),_:1}),o($,{class:"q-mr-xs",round:"",outline:"",dense:"",icon:"chevron_right",size:"sm",color:"primary"})]),_:1}),o(pe,{separator:"",class:"q-pt-md"},{default:i(()=>[(F(!0),ae(ge,null,me(D.value,(u,A)=>N((F(),z(he,{key:A,to:u.url,clickable:"",dense:"",class:""},{default:i(()=>[o(Q,{avatar:""},{default:i(()=>[o(ra,{size:"xl",rounded:""},{default:i(()=>[o(ue,{name:u.icon,color:"teal"},null,8,["name"])]),_:2},1024)]),_:2},1024),o(Q,{class:"text-left column justify-evenly"},{default:i(()=>[o(we,{class:"q-pt-xs text-caption"},{default:i(()=>[te(H(u.title),1)]),_:2},1024),be("div",Ea,H(u.note),1)]),_:2},1024),o(Q,{side:""},{default:i(()=>[o(ue,{name:"keyboard_arrow_right"})]),_:1})]),_:2},1032,["to"])),[[ia]])),128))]),_:1}),be("div",Ca,[o($,{class:"full-width",rounded:"",size:"md",dense:"",color:"green",to:`/tabs/tab4?lastPath=${v.$route.path}`,icon:"keyboard_arrow_left",label:"\u8FD4\u56DE\u670D\u52A1\u4E2D\u5FC3"},null,8,["to"])])]),_:1},8,["modelValue"]),o(fa,null,{default:i(()=>[o(C)]),_:1})]),_:1})}}});export{Ra as default};
