import{C,a as w,L as S,P as F,b as L,p as P,c as D,d as N,e as O}from"./index.33274daf.js";import{d as T,r as g,w as b,c as B,m as v,x as R,n as A,v as E,aT as I}from"./index.4f390c6a.js";const o=200,J={3:[{x:0,y:0,mode:0},{x:Math.floor(o/20),y:0,mode:0},{x:Math.floor(o/20)+1,y:100,mode:0},{x:Math.floor(o/14),y:100,mode:0},{x:Math.floor(o/14)+1,y:0,mode:0},{x:Math.floor(o/7),y:0,mode:0},{x:Math.floor(o/7)+1,y:100,mode:0},{x:Math.floor(o/4),y:100,mode:0},{x:Math.floor(o/4)+1,y:0,mode:0},{x:Math.floor(o/3),y:0,mode:0},{x:Math.floor(o/3)+1,y:100,mode:0},{x:Math.floor(o*2/3),y:100,mode:0},{x:Math.floor(o*2/3)+1,y:0,mode:0},{x:Math.floor(o*3/4),y:0,mode:0},{x:Math.floor(o*3/4)+1,y:100,mode:0},{x:Math.floor(o*4/5),y:100,mode:0},{x:Math.floor(o*4/5)+1,y:0,mode:0},{x:o,y:0,mode:0}],5:[{x:0,y:100,mode:0},{x:1,y:0,mode:0},{x:o,y:0,mode:0}],6:[{x:0,y:0,mode:0},{x:o,y:0,mode:0}],7:[{x:0,y:100,mode:0},{x:o,y:100,mode:0}],8:[{x:0,y:50,mode:1},{x:o,y:50,mode:1}],9:[{x:0,y:100,mode:2},{x:o,y:100,mode:2}],10:[{x:0,y:0,mode:0},{x:o,y:100,mode:0}],11:[{x:0,y:100,mode:0},{x:o,y:0,mode:0}],12:[{x:0,y:0,mode:0},{x:Math.floor(o*50/100),y:100,mode:0},{x:o,y:0,mode:0}],13:[{x:0,y:0,mode:0},{x:Math.floor(o/6),y:0,mode:0},{x:Math.floor(o/3),y:100,mode:0},{x:Math.floor(o*2/3),y:100,mode:0},{x:Math.floor(o*5/6),y:0,mode:0},{x:o,y:0,mode:0}],14:[{x:0,y:100,mode:0},{x:Math.floor(o/6),y:0,mode:0},{x:Math.floor(o/2),y:0,mode:0},{x:Math.floor(o*2/3),y:100,mode:0},{x:o,y:100,mode:0}],15:[{x:0,y:100,mode:0},{x:Math.floor(o/3),y:100,mode:0},{x:Math.floor(o/2),y:0,mode:0},{x:Math.floor(o*5/6),y:0,mode:0},{x:o,y:100,mode:0}],16:[{x:0,y:0,mode:3},{x:Math.floor(o/10),y:30.9,mode:3},{x:Math.floor(o*2/10),y:57.6,mode:3},{x:Math.floor(o*3/10),y:80.4,mode:3},{x:Math.floor(o*4/10),y:94.2,mode:3},{x:Math.floor(o*5/10),y:100,mode:3},{x:Math.floor(o*6/10),y:94.2,mode:3},{x:Math.floor(o*7/10),y:80.4,mode:3},{x:Math.floor(o*8/10),y:57.6,mode:3},{x:Math.floor(o*9/10),y:30.9,mode:3},{x:o,y:0,mode:3}],18:[{x:0,y:0,mode:0},{x:Math.floor(o/4),y:100,mode:0},{x:Math.floor(o/2),y:100,mode:0},{x:Math.floor(o*3/4),y:0,mode:0},{x:o,y:0,mode:0}],24:[{x:0,y:100,mode:0},{x:Math.floor(o*99.9/100),y:100,mode:0},{x:o,y:0,mode:0}],25:[{x:0,y:0,mode:0},{x:Math.floor(o*99.9/100),y:100,mode:0},{x:o,y:0,mode:0}]},z=T({__name:"FormChart",props:{width:{default:100},devices:{default:1},form_index:{default:"5"},high_low:{default:()=>({min:0,max:100})},phase:{default:()=>({min:0,max:360})}},setup(_){C.register(w,S,F,L,P,D,N);const y=_,m=g({datasets:[{type:"line",label:"\u6837\u5F0F",order:1,borderColor:"grey",fill:!1,data:[{x:10,y:100,r:1}],lineTension:1},{type:"bubble",label:"\u76F8\u4F4D",order:2,backgroundColor:"#f87979",data:[{x:10,y:0,r:4}]}]}),M=g({responsive:!0,maintainAspectRatio:!1,aspectRatio:2,scales:{y:{suggestedMin:0,suggestedMax:100,grid:{display:!0,tickLength:6},ticks:{display:!0,stepSize:50}},x:{type:"linear",suggestedMin:0,suggestedMax:o,grid:{display:!0,tickLength:6},ticks:{display:!0,showLabelBackdrop:!0,callback:t=>`${Math.round(360*t/o)}\xB0`}}},animation:{duration:0},elements:{point:{radius:0,hitRadius:10,hoverRadius:4,pointStyle:"circle",borderColor:"#f87979",backgroundColor:"blue"}},plugins:{tooltip:{enabled:!1},title:{display:!1},legend:{display:!0,labels:{boxWidth:10,padding:14,textAlign:"right"}}}});b(()=>[y.form_index,y.width],([t,d])=>{const x=typeof t=="string"?t:"",h=typeof d=="number"?d:0,e=JSON.parse(JSON.stringify(J[x])),l=36e3/(o*h),s=e[0].mode;if(h<100){const a=e[e.length-1].y;e.forEach(r=>{r.x>0&&(r.x=Math.floor(r.x*h/100))}),e.push({x:o,y:a,mode:0}),m.value.datasets[0].lineTension=0}else if(s>0){if(m.value.datasets[0].lineTension=.3,[1,2].includes(s)){const r=e[0].x,u=o/(11+1);for(let n=0;n<11;n++){const c=s>1?(Math.cos((n+1)*l*u*Math.PI/180)+1)*500:(Math.sin((n+1)*l*u*Math.PI/180)+1)*500;e.splice(1+n,0,{x:(n+1)*u+r,y:Math.floor(c)/10,mode:s})}}}else m.value.datasets[0].lineTension=0;const f=[];for(let a=0;a<e.length;a++)if(s>0&&h<100)if(a<e.length-2){const r=e[a].x,u=e[a+1].x,n=(e[a+1].y-e[a].y)/(u-r),c=u-r+1;for(let i=1;i<c;i++)if([1,2].includes(s)){const k=s>1?(Math.cos(i*l*Math.PI/180)+1)*500:(Math.sin(i*l*Math.PI/180)+1)*500;f.push({x:i+r,y:Math.floor(k)/10})}else s===3&&f.push({x:i+r,y:Math.round((i*n+e[a].y)*10)/10})}else{f.unshift({y:e[0].y,x:0}),f.push({y:e[e.length-1].y,x:o});break}else f.push({x:e[a].x,y:e[a].y});m.value.datasets[0].data=f},{immediate:!0}),b(()=>[y.phase,y.devices],([t,d])=>{if(t&&d&&typeof t=="object"&&typeof d=="number"){const x=[],e=(t.max-t.min)/d;for(let l=0;l<d;l++){const s=Math.ceil((e*l+t.min)*o/360);x.push({x:s,y:0,r:3})}m.value.datasets[1].data=x}},{immediate:!0});const p=B(()=>{const t=JSON.parse(JSON.stringify(m.value));return t.datasets[0].data=m.value.datasets[0].data.map(d=>{var e,l;const x=y.high_low.max-((e=y.high_low)==null?void 0:e.min);return{y:Math.round(d.y*x/100+((l=y.high_low)==null?void 0:l.min)),x:d.x,r:d.r}}),t});return(t,d)=>(v(),R("div",null,[p.value&&M.value?(v(),A(E(O),{key:0,data:p.value,options:M.value},null,8,["data","options"])):I("",!0)]))}});export{J as M,z as _};
