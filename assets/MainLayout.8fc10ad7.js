import{Q as A}from"./QToolbarTitle.5e2b8a84.js";import{K as U,bw as M,bx as j,c as b,w as p,i as W,W as C,r as w,a1 as X,X as Z,a4 as G,h as x,g as J,Z as Y,d as ee,l as te,aN as ae,m as k,n as F,p as u,j as n,z as V,aO as B,v as c,H as oe,s as $,t as R,Q as q,f as le,x as H,y as I,A as ne,B as z,q as re,U as ue,F as E}from"./index.4f390c6a.js";import{Q as se}from"./QItemLabel.95b24a48.js";import{Q as ie}from"./QList.423862dd.js";import{Q as ce}from"./QBtnDropdown.38ff8e37.js";import{Q as de}from"./QToolbar.582a7924.js";import{Q as fe,a as me,b as ve}from"./QLayout.1bc9c1a4.js";import{u as be,a as ge,b as he,Q as pe}from"./QTabs.1c1f66ed.js";import{Q as ye}from"./QResizeObserver.cb7e3544.js";import{C as _e}from"./ClosePopup.14229a43.js";import{l as P}from"./locale-options.a93a5ee4.js";import{u as we}from"./SearchKey.a606d0cd.js";import{u as Qe}from"./use-quasar.4e14d354.js";import{s as ke}from"./constant.a3c7e21e.js";import{u as Ve}from"./vue-i18n.runtime.b0371a81.js";import"./QMenu.75c03351.js";import"./selection.1482bdb7.js";import"./QScrollObserver.ad751985.js";import"./rtl.0738a96b.js";var $e=U({name:"QRouteTab",props:{...M,...be},emits:ge,setup(o,{slots:h,emit:s}){const a=j({useDisableForRouterLinkProps:!1}),{renderTab:t,$tabs:d}=he(o,h,s,{exact:b(()=>o.exact),...a});return p(()=>`${o.name} | ${o.exact} | ${(a.resolvedLink.value||{}).href}`,()=>{d.verifyRouteModel()}),()=>t(a.linkTag.value,a.linkAttrs.value)}}),Se=U({name:"QFooter",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(o,{slots:h,emit:s}){const{proxy:{$q:a}}=J(),t=W(Y,C);if(t===C)return console.error("QFooter needs to be child of QLayout"),C;const d=w(parseInt(o.heightHint,10)),m=w(!0),g=w(X.value===!0||t.isContainer.value===!0?0:window.innerHeight),y=b(()=>o.reveal===!0||t.view.value.indexOf("F")>-1||a.platform.is.ios&&t.isContainer.value===!0),Q=b(()=>t.isContainer.value===!0?t.containerHeight.value:g.value),i=b(()=>{if(o.modelValue!==!0)return 0;if(y.value===!0)return m.value===!0?d.value:0;const e=t.scroll.value.position+Q.value+d.value-t.height.value;return e>0?e:0}),r=b(()=>o.modelValue!==!0||y.value===!0&&m.value!==!0),S=b(()=>o.modelValue===!0&&r.value===!0&&o.reveal===!0),l=b(()=>"q-footer q-layout__section--marginal "+(y.value===!0?"fixed":"absolute")+"-bottom"+(o.bordered===!0?" q-footer--bordered":"")+(r.value===!0?" q-footer--hidden":"")+(o.modelValue!==!0?" q-layout--prevent-focus"+(y.value!==!0?" hidden":""):"")),L=b(()=>{const e=t.rows.value.bottom,f={};return e[0]==="l"&&t.left.space===!0&&(f[a.lang.rtl===!0?"right":"left"]=`${t.left.size}px`),e[2]==="r"&&t.right.space===!0&&(f[a.lang.rtl===!0?"left":"right"]=`${t.right.size}px`),f});function v(e,f){t.update("footer",e,f)}function _(e,f){e.value!==f&&(e.value=f)}function D({height:e}){_(d,e),v("size",e)}function K(){if(o.reveal!==!0)return;const{direction:e,position:f,inflectionPoint:O}=t.scroll.value;_(m,e==="up"||f-O<100||t.height.value-Q.value-f-d.value<300)}function N(e){S.value===!0&&_(m,!0),s("focusin",e)}p(()=>o.modelValue,e=>{v("space",e),_(m,!0),t.animate()}),p(i,e=>{v("offset",e)}),p(()=>o.reveal,e=>{e===!1&&_(m,o.modelValue)}),p(m,e=>{t.animate(),s("reveal",e)}),p([d,t.scroll,t.height],K),p(()=>a.screen.height,e=>{t.isContainer.value!==!0&&_(g,e)});const T={};return t.instances.footer=T,o.modelValue===!0&&v("size",d.value),v("space",o.modelValue),v("offset",i.value),Z(()=>{t.instances.footer===T&&(t.instances.footer=void 0,v("size",0),v("offset",0),v("space",!1))}),()=>{const e=G(h.default,[x(ye,{debounce:0,onResize:D})]);return o.elevated===!0&&e.push(x("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),x("footer",{class:l.value,style:L.value,onFocusin:N},e)}}});const Ce={ref:"dark_btn"},xe={class:"q-py-sm q-px-md"},Be={ref:"footer_tabs"},Xe=ee({__name:"MainLayout",setup(o){const h=Qe(),{locale:s}=Ve({useScope:"global"}),a=we(),t=w(),d=w(a.getKey);te(()=>{a.getEnable||a.toggleEnable(),a.getShow&&a.toggleShow()});const m=[{name:"tab1",icon:"edit_note"},{name:"tab2",icon:"ion-hand"},{name:"tab3",icon:"view_list"},{name:"tab4",icon:"person"}],g=w(m[0].name),y=b(()=>{const i=P.find(r=>{if(typeof s.value=="string")return r.value===s.value});return i?`img:${i.flag}`:"language"});async function Q(){var i;a.toggleShow(),a.getShow&&(await ke(50),(i=t.value)==null||i.focus())}return(i,r)=>{const S=ae("router-view");return k(),F(fe,{view:"lHh Lpr lFf"},{default:u(()=>[n(me,{elevated:""},{default:u(()=>[n(de,{dense:""},{default:u(()=>[n(A,null,{default:u(()=>[V(n(c(oe),{ref_key:"searchInput",ref:t,standout:"bg-primary text-white",dense:"",clearable:"",debounce:"900",modelValue:d.value,"onUpdate:modelValue":[r[0]||(r[0]=l=>d.value=l),c(a).setKey],placeholder:i.$t("main_layout.search")},null,8,["modelValue","placeholder","onUpdate:modelValue"]),[[B,c(a).getEnable&&c(a).getShow&&g.value!=="tab2"]]),V($("div",null,R(i.$t(`main_layout.${g.value}_title`)),513),[[B,!c(a).getShow]])]),_:1}),V(n(q,{dense:"",flat:"",round:"",icon:"search","aria-label":"Search",onClick:Q},null,512),[[B,c(a).getEnable&&g.value!=="tab2"]]),$("div",Ce,[n(q,{dense:"",flat:"",round:"",onClick:r[1]||(r[1]=l=>c(h).dark.toggle()),color:c(h).dark.isActive?"white":"black",icon:c(h).dark.isActive?"light_mode":"brightness_2"},null,8,["color","icon"])],512),$("div",xe,[n(ce,{color:"light","dropdown-icon":y.value,"no-icon-animation":"",flat:"",dense:""},{default:u(()=>[n(ie,{modelValue:c(s),"onUpdate:modelValue":r[2]||(r[2]=l=>le(s)?s.value=l:null)},{default:u(()=>[(k(!0),H(E,null,I(c(P),l=>V((k(),F(ne,{key:l.label,active:l.value==c(s),clickable:"",onClick:L=>s.value=l.value},{default:u(()=>[n(z,null,{default:u(()=>[n(se,null,{default:u(()=>[re(R(l.label),1)]),_:2},1024)]),_:2},1024),n(z,{side:""},{default:u(()=>[n(ue,{name:`img:${l.flag}`},null,8,["name"])]),_:2},1024)]),_:2},1032,["active","onClick"])),[[_e]])),128))]),_:1},8,["modelValue"])]),_:1},8,["dropdown-icon"])])]),_:1})]),_:1}),n(ve,null,{default:u(()=>[n(S)]),_:1}),n(Se,{ref:"footer",reveal:"",elevated:"",class:"bg-blue-9","height-hint":"100"},{default:u(()=>[$("div",Be,[n(pe,{class:"text-grey-5",modelValue:g.value,"onUpdate:modelValue":r[3]||(r[3]=l=>g.value=l),align:"center","active-color":"orange",dense:""},{default:u(()=>[(k(),H(E,null,I(m,l=>n($e,{class:"col-3",key:l.name,name:l.name,to:`/tabs/${l.name}`,icon:l.icon,label:i.$t(`main_layout.${l.name}`),"no-caps":""},null,8,["name","to","icon","label"])),64))]),_:1},8,["modelValue"])],512)]),_:1},512)]),_:1})}}});export{Xe as default};
