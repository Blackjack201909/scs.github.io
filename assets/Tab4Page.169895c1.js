import{Q as At}from"./QTab.9dfb2d2e.js";import{Q as qt}from"./QTabs.1c1f66ed.js";import{Q as fa}from"./QToolbarTitle.5e2b8a84.js";import{Q as ma}from"./QToolbar.582a7924.js";import{Q as ga}from"./QPageSticky.0fc5d889.js";import{Q as pa}from"./QPage.e32daf6c.js";import{d as ee,m as B,x as R,z as Se,n as $,p as S,bb as de,A as he,aT as U,aU as Re,j as b,G as Ce,s as T,B as W,q as Y,t as L,v as j,aP as Ee,r as w,w as K,F as Z,y as ce,K as ne,h as f,L as le,Y as _a,U as ie,g as oe,M as Ie,N as Ve,c as _,l as Oe,o as kt,a6 as wt,a5 as ba,X as Pt,aB as ya,an as ft,a4 as ut,b8 as Sa,b9 as ha,bF as Ca,bG as mt,bj as at,bh as gt,bk as Ea,a9 as lt,bH as Fa,br as Je,be as pe,Q,bt as Dt,a3 as Ba,C as Aa,E as qa,H as ge,bc as ka,ac as wa,ap as _e,aG as Pa,aR as Da,al as xe,aS as Xe,ay as pt,a8 as Ze,am as et,aD as xa,bI as $a,bJ as xt,i as Ta,W as tt,bK as $t,$ as Ra,aL as Ia,u as Tt,k as Va,a as Oa,b4 as Qa,D as La,bL as Na}from"./index.4f390c6a.js";import{Q as ve}from"./QItemLabel.95b24a48.js";import{Q as ye}from"./QBadge.2339051b.js";import{d as Te}from"./date.865a2574.js";import{Q as Ua}from"./QInnerLoading.b1f69d49.js";import{Q as Qe}from"./QList.423862dd.js";import{Q as ja,a as Ma}from"./QInfiniteScroll.281273f1.js";import{U as Rt,e as It,u as za,f as Ha}from"./cloudDB.d318324a.js";import{_ as Ga}from"./SodPay.96226a02.js";import{u as Ya,a as Wa,c as Vt,Q as Ka}from"./QSelect.8ad877e3.js";import{Q as Ot}from"./QForm.c09e6959.js";import{_ as Ja}from"./CollectionSelect.2d35001e.js";import{u as Qt}from"./use-quasar.4e14d354.js";import{Q as Xa}from"./QFile.0b5cf431.js";import{m as _t}from"./constant.a3c7e21e.js";import{_ as Za}from"./UpdatedDate.47641b74.js";import{a as eu,Q as tu}from"./QExpansionItem.912b4e2a.js";import{g as bt,s as yt}from"./TouchPan.5282a72c.js";import{c as au}from"./selection.1482bdb7.js";import{u as Lt}from"./use-cache.8fbad985.js";import"./QResizeObserver.cb7e3544.js";import"./rtl.0738a96b.js";import"./format.6396bb17.js";import"./axios.ea5872bc.js";import"./QSlider.10d6f0d5.js";import"./QSpace.6762f1cf.js";import"./QChip.17ac3977.js";import"./QMenu.75c03351.js";import"./SearchKey.a606d0cd.js";import"./index.d9f23821.js";import"./index.4024674e.js";const uu=["src"],lu={class:"column justify-center content-start items-start"},nu={class:"text-caption text-weight-thin"},ou=ee({__name:"UserCard",props:{data:{}},emits:["info"],setup(e,{emit:t}){const o=t;function v(){o("info")}return(l,u)=>(B(),R("div",{class:Re(l.$q.dark.isActive?"bg-blue-10":"bg-light-blue-2")},[l.data?Se((B(),$(he,{key:0,class:"q-py-sm",dense:"",clickable:"",onClick:de(v,["stop"])},{default:S(()=>[b(W,{avatar:""},{default:S(()=>[b(Ce,{size:"lg"},{default:S(()=>[T("img",{src:l.data.avatar},null,8,uu)]),_:1})]),_:1}),b(W,{class:""},{default:S(()=>{var n;return[T("div",lu,[b(ve,{class:"text-body2"},{default:S(()=>[Y(L(l.data.nickname||l.data.username),1)]),_:1}),T("div",nu,L((n=l.data.role)==null?void 0:n.join(", ")),1)])]}),_:1}),b(W,{side:"",class:"justify-evenly"},{default:S(()=>[b(ve,{caption:""},{default:S(()=>[Y(L("\u4E0A\u6B21\u767B\u5F55:"))]),_:1}),b(ye,{outline:"",color:"primary"},{default:S(()=>[Y(L(j(Te).formatDate(l.data.last_login_date,"YYYY-M-D")),1)]),_:1})]),_:1})]),_:1})),[[Ee]]):U("",!0)],2))}}),ru={class:"q-px-none q-mx-none"},su=["src"],iu={class:"row justify-center q-my-md"},cu={key:1,class:"q-pt-xl text-orange text-h6 text-center"},St=6,du=ee({__name:"UserOrders",props:{search:{default:""},user_id:{default:"playServer"}},emits:["selected"],setup(e,{emit:t}){const o=w(!0),v=["\u6B63\u5728\u62FC\u5355","\u51C6\u5907\u6267\u884C","\u8BA2\u5355\u5B8C\u6210","\u8BA2\u5355\u53D6\u6D88","\u8BA2\u5355\u672A\u5B8C\u6210","\u9000\u6B3E\u5B8C\u6210"],l=e,u=w([]),n=w([]),d=w(!1),i=w(""),c=Rt.getInstance();K(()=>l.user_id,async C=>{if(C){for(;u.value.length;)u.value.pop(),d.value=!1;await a()}},{immediate:!0}),K(()=>l.search,async C=>{console.log("watch props.search: ",Boolean(C)),d.value?C&&E(C):await a(C)});async function a(C){var F;try{const r=C&&C.length>0;let g="status < 6",m='_id != ""';r&&(m+=` && ${new RegExp(C,"i")}.test(name)`);const x=r?0:u.value.length,q=await c.request("getDetails/orderProgram",{query:{collection:"pcf-orders",condition:JSON.stringify({where:g,orderBy:"start desc",fountainWhere:"_id != null",fountainField:"_id, name",skip:x,programWhere:m,programField:"_id, name, type, media_id",outWhere:"size(program_id) > 0",outField:"arrayElemAt(program_id, 0) as program, arrayElemAt(fountain_id, 0) as fountain, name, paid, status, start, show_date",outLimit:St})}});if(console.log("loadMore isSearch res:",q),o.value=!1,!q.success&&((F=q.error)==null?void 0:F.message)){/resource exhausted/.test(q.error.message)&&(i.value="DB resource exhausted.");return}if(r)console.log("loadMore isSearch res:",q),n.value=q;else{if(q.length){for(const I of q)I.date=Te.formatDate(I.start,"YYYY-M-D"),I.time=Te.formatDate(I.start,"H:mm:ss");u.value=u.value.concat(q),n.value=u.value}q.length<St&&(d.value=!0)}}catch(r){console.error("loadMore UserOrdersList:",r)}}function p(C){}function y(C,F){d.value?F(!0):a(l.search).then(()=>F())}function E(C){var F;if(C){const r=[],g=RegExp(C,"i");for(const m of u.value){const x=(F=m.program)==null?void 0:F.name;(g.test(m.date)||x&&g.test(x))&&r.push(m)}n.value=r}}return(C,F)=>(B(),R("div",ru,[b(Ua,{showing:o.value,label:"\u52A0\u8F7D\u8BA2\u5355\u6570\u636E ...","label-class":"text-Primary","label-style":"font-size: 1.1em"},null,8,["showing"]),!o.value&&u.value.length?(B(),$(ja,{key:0,onLoad:y,offset:50},{loading:S(()=>[T("div",iu,[b(Ma,{color:"primary",size:"40px"})])]),default:S(()=>[b(Qe,{separator:""},{default:S(()=>[(B(!0),R(Z,null,ce(n.value,(r,g)=>Se((B(),$(he,{key:g,clickable:"",onClick:de(m=>void 0,["stop"])},{default:S(()=>[b(W,{avatar:""},{default:S(()=>[b(Ce,{size:"60px",rounded:""},{default:S(()=>{var m,x;return[T("img",{src:(x=(m=r.media)==null?void 0:m.poster)==null?void 0:x.url},null,8,su)]}),_:2},1024)]),_:2},1024),b(W,null,{default:S(()=>[b(ve,{lines:"1"},{default:S(()=>{var m;return[Y(L((m=r.program)==null?void 0:m.name),1)]}),_:2},1024),b(ve,{lines:"1"},{default:S(()=>{var m;return[Y(L((m=r.fountain)==null?void 0:m.name),1)]}),_:2},1024),b(ve,{lines:"1"},{default:S(()=>[Y(L(r.paid)+" \u6C34\u6EF4",1)]),_:2},1024)]),_:2},1024),b(W,{side:"",class:"justify-around"},{default:S(()=>[b(ye,{color:"grey",rounded:"",class:"q-px-sm"},{default:S(()=>[Y(L(r.date),1)]),_:2},1024),b(ye,{color:"green"},{default:S(()=>[Y(L(r.time),1)]),_:2},1024),b(ye,{color:"green"},{default:S(()=>{var m;return[Y(L((m=r.program)==null?void 0:m.type),1)]}),_:2},1024),b(ye,{color:"green"},{default:S(()=>[Y(L(v[r.status]),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[Ee]])),128))]),_:1})]),_:1})):U("",!0),i.value.length?(B(),R("div",cu,L(i.value),1)):U("",!0)]))}});var vu=ne({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:t,emit:o}){const v=oe(),{proxy:{$q:l}}=v,u=n=>{o("click",n)};return()=>{if(e.props===void 0)return f("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:u},le(t.default));let n,d;const i=v.vnode.key;if(i){if(n=e.props.colsMap[i],n===void 0)return}else n=e.props.col;if(n.sortable===!0){const a=n.align==="right"?"unshift":"push";d=_a(t.default,[]),d[a](f(ie,{class:n.__iconClass,name:l.iconSet.table.arrowUp}))}else d=le(t.default);const c={class:n.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:n.headerStyle,onClick:a=>{n.sortable===!0&&e.props.sort(n),u(a)}};return f("th",c,d)}}});const fu=["horizontal","vertical","cell","none"];var mu=ne({name:"QMarkupTable",props:{...Ie,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>fu.includes(e)}},setup(e,{slots:t}){const o=oe(),v=Ve(e,o.proxy.$q),l=_(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(v.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>f("div",{class:l.value},[f("table",{class:"q-table"},le(t.default))])}});function Nt(e,t){return f("div",e,[f("table",{class:"q-table"},t)])}const gu={list:Qe,table:mu},pu=["list","table","__qtable"];var _u=ne({name:"QVirtualScroll",props:{...Ya,type:{type:String,default:"list",validator:e=>pu.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}},setup(e,{slots:t,attrs:o}){let v;const l=w(null),u=_(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:n,localResetVirtualScroll:d,padVirtualScroll:i,onVirtualScrollEvt:c}=Wa({virtualScrollLength:u,getVirtualScrollTarget:C,getVirtualScrollEl:E}),a=_(()=>{if(u.value===0)return[];const m=(x,q)=>({index:n.value.from+q,item:x});return e.itemsFn===void 0?e.items.slice(n.value.from,n.value.to).map(m):e.itemsFn(n.value.from,n.value.to-n.value.from).map(m)}),p=_(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),y=_(()=>e.scrollTarget!==void 0?{}:{tabindex:0});K(u,()=>{d()}),K(()=>e.scrollTarget,()=>{r(),F()});function E(){return l.value.$el||l.value}function C(){return v}function F(){v=ya(E(),e.scrollTarget),v.addEventListener("scroll",c,ft.passive)}function r(){v!==void 0&&(v.removeEventListener("scroll",c,ft.passive),v=void 0)}function g(){let m=i(e.type==="list"?"div":"tbody",a.value.map(t.default));return t.before!==void 0&&(m=t.before().concat(m)),ut(t.after,m)}return Oe(()=>{d()}),kt(()=>{F()}),wt(()=>{F()}),ba(()=>{r()}),Pt(()=>{r()}),()=>{if(t.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?Nt({ref:l,class:"q-table__middle "+p.value},g()):f(gu[e.type],{...o,ref:l,class:[o.class,p.value],...y.value},g)}}});const bu={xs:2,sm:4,md:6,lg:10,xl:14};function ht(e,t,o){return{transform:t===!0?`translateX(${o.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}var yu=ne({name:"QLinearProgress",props:{...Ie,...Sa,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:t}){const{proxy:o}=oe(),v=Ve(e,o.$q),l=ha(e,bu),u=_(()=>e.indeterminate===!0||e.query===!0),n=_(()=>e.reverse!==e.query),d=_(()=>({...l.value!==null?l.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),i=_(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),c=_(()=>ht(e.buffer!==void 0?e.buffer:1,n.value,o.$q)),a=_(()=>`with${e.instantFeedback===!0?"out":""}-transition`),p=_(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${a.value} q-linear-progress__track--${v.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),y=_(()=>ht(u.value===!0?1:e.value,n.value,o.$q)),E=_(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${a.value} q-linear-progress__model--${u.value===!0?"in":""}determinate`),C=_(()=>({width:`${e.value*100}%`})),F=_(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${a.value}`);return()=>{const r=[f("div",{class:p.value,style:c.value}),f("div",{class:E.value,style:y.value})];return e.stripe===!0&&u.value===!1&&r.push(f("div",{class:F.value,style:C.value})),f("div",{class:i.value,style:d.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},ut(t.default,r))}}});let be=0;const Su={fullscreen:Boolean,noRouteFullscreenExit:Boolean},hu=["update:fullscreen","fullscreen"];function Cu(){const e=oe(),{props:t,emit:o,proxy:v}=e;let l,u,n;const d=w(!1);Ca(e)===!0&&K(()=>v.$route.fullPath,()=>{t.noRouteFullscreenExit!==!0&&a()}),K(()=>t.fullscreen,p=>{d.value!==p&&i()}),K(d,p=>{o("update:fullscreen",p),o("fullscreen",p)});function i(){d.value===!0?a():c()}function c(){d.value!==!0&&(d.value=!0,n=v.$el.parentNode,n.replaceChild(u,v.$el),document.body.appendChild(v.$el),be++,be===1&&document.body.classList.add("q-body--fullscreen-mixin"),l={handler:a},mt.add(l))}function a(){d.value===!0&&(l!==void 0&&(mt.remove(l),l=void 0),n.replaceChild(v.$el,u),d.value=!1,be=Math.max(0,be-1),be===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),v.$el.scrollIntoView!==void 0&&setTimeout(()=>{v.$el.scrollIntoView()})))}return Oe(()=>{u=document.createElement("span")}),kt(()=>{t.fullscreen===!0&&c()}),Pt(a),Object.assign(v,{toggleFullscreen:i,setFullscreen:c,exitFullscreen:a}),{inFullscreen:d,toggleFullscreen:i}}function Eu(e,t){return new Date(e)-new Date(t)}const Fu={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function Bu(e,t,o,v){const l=_(()=>{const{sortBy:d}=t.value;return d&&o.value.find(i=>i.name===d)||null}),u=_(()=>e.sortMethod!==void 0?e.sortMethod:(d,i,c)=>{const a=o.value.find(E=>E.name===i);if(a===void 0||a.field===void 0)return d;const p=c===!0?-1:1,y=typeof a.field=="function"?E=>a.field(E):E=>E[a.field];return d.sort((E,C)=>{let F=y(E),r=y(C);return a.rawSort!==void 0?a.rawSort(F,r,E,C)*p:F==null?-1*p:r==null?1*p:a.sort!==void 0?a.sort(F,r,E,C)*p:at(F)===!0&&at(r)===!0?(F-r)*p:gt(F)===!0&&gt(r)===!0?Eu(F,r)*p:typeof F=="boolean"&&typeof r=="boolean"?(F-r)*p:([F,r]=[F,r].map(g=>(g+"").toLocaleString().toLowerCase()),F<r?-1*p:F===r?0:p)})});function n(d){let i=e.columnSortOrder;if(Ea(d)===!0)d.sortOrder&&(i=d.sortOrder),d=d.name;else{const p=o.value.find(y=>y.name===d);p!==void 0&&p.sortOrder&&(i=p.sortOrder)}let{sortBy:c,descending:a}=t.value;c!==d?(c=d,a=i==="da"):e.binaryStateSort===!0?a=!a:a===!0?i==="ad"?c=null:a=!1:i==="ad"?a=!0:c=null,v({sortBy:c,descending:a,page:1})}return{columnToSort:l,computedSortMethod:u,sort:n}}const Au={filter:[String,Object],filterMethod:Function};function qu(e,t){const o=_(()=>e.filterMethod!==void 0?e.filterMethod:(v,l,u,n)=>{const d=l?l.toLowerCase():"";return v.filter(i=>u.some(c=>{const a=n(c,i)+"";return(a==="undefined"||a==="null"?"":a.toLowerCase()).indexOf(d)!==-1}))});return K(()=>e.filter,()=>{lt(()=>{t({page:1},!0)})},{deep:!0}),{computedFilterMethod:o}}function ku(e,t){for(const o in t)if(t[o]!==e[o])return!1;return!0}function Ct(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const wu={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function Pu(e,t){const{props:o,emit:v}=e,l=w(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:o.rowsPerPageOptions.length!==0?o.rowsPerPageOptions[0]:5},o.pagination)),u=_(()=>{const a=o["onUpdate:pagination"]!==void 0?{...l.value,...o.pagination}:l.value;return Ct(a)}),n=_(()=>u.value.rowsNumber!==void 0);function d(a){i({pagination:a,filter:o.filter})}function i(a={}){lt(()=>{v("request",{pagination:a.pagination||u.value,filter:a.filter||o.filter,getCellValue:t})})}function c(a,p){const y=Ct({...u.value,...a});if(ku(u.value,y)===!0){n.value===!0&&p===!0&&d(y);return}if(n.value===!0){d(y);return}o.pagination!==void 0&&o["onUpdate:pagination"]!==void 0?v("update:pagination",y):l.value=y}return{innerPagination:l,computedPagination:u,isServerSide:n,requestServerInteraction:i,setPagination:c}}function Du(e,t,o,v,l,u){const{props:n,emit:d,proxy:{$q:i}}=e,c=_(()=>v.value===!0?o.value.rowsNumber||0:u.value),a=_(()=>{const{page:q,rowsPerPage:I}=o.value;return(q-1)*I}),p=_(()=>{const{page:q,rowsPerPage:I}=o.value;return q*I}),y=_(()=>o.value.page===1),E=_(()=>o.value.rowsPerPage===0?1:Math.max(1,Math.ceil(c.value/o.value.rowsPerPage))),C=_(()=>p.value===0?!0:o.value.page>=E.value),F=_(()=>(n.rowsPerPageOptions.includes(t.value.rowsPerPage)?n.rowsPerPageOptions:[t.value.rowsPerPage].concat(n.rowsPerPageOptions)).map(I=>({label:I===0?i.lang.table.allRows:""+I,value:I})));K(E,(q,I)=>{if(q===I)return;const te=o.value.page;q&&!te?l({page:1}):q<te&&l({page:q})});function r(){l({page:1})}function g(){const{page:q}=o.value;q>1&&l({page:q-1})}function m(){const{page:q,rowsPerPage:I}=o.value;p.value>0&&q*I<c.value&&l({page:q+1})}function x(){l({page:E.value})}return n["onUpdate:pagination"]!==void 0&&d("update:pagination",{...o.value}),{firstRowIndex:a,lastRowIndex:p,isFirstPage:y,isLastPage:C,pagesNumber:E,computedRowsPerPageOptions:F,computedRowsNumber:c,firstPage:r,prevPage:g,nextPage:m,lastPage:x}}const xu={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},$u=["update:selected","selection"];function Tu(e,t,o,v){const l=_(()=>{const C={};return e.selected.map(v.value).forEach(F=>{C[F]=!0}),C}),u=_(()=>e.selection!=="none"),n=_(()=>e.selection==="single"),d=_(()=>e.selection==="multiple"),i=_(()=>o.value.length!==0&&o.value.every(C=>l.value[v.value(C)]===!0)),c=_(()=>i.value!==!0&&o.value.some(C=>l.value[v.value(C)]===!0)),a=_(()=>e.selected.length);function p(C){return l.value[C]===!0}function y(){t("update:selected",[])}function E(C,F,r,g){t("selection",{rows:F,added:r,keys:C,evt:g});const m=n.value===!0?r===!0?F:[]:r===!0?e.selected.concat(F):e.selected.filter(x=>C.includes(v.value(x))===!1);t("update:selected",m)}return{hasSelectionMode:u,singleSelection:n,multipleSelection:d,allRowsSelected:i,someRowsSelected:c,rowsSelectedNumber:a,isRowSelected:p,clearSelection:y,updateSelection:E}}function Et(e){return Array.isArray(e)?e.slice():[]}const Ru={expanded:Array},Iu=["update:expanded"];function Vu(e,t){const o=w(Et(e.expanded));K(()=>e.expanded,n=>{o.value=Et(n)});function v(n){return o.value.includes(n)}function l(n){e.expanded!==void 0?t("update:expanded",n):o.value=n}function u(n,d){const i=o.value.slice(),c=i.indexOf(n);d===!0?c===-1&&(i.push(n),l(i)):c!==-1&&(i.splice(c,1),l(i))}return{isRowExpanded:v,setExpanded:l,updateExpanded:u}}const Ou={visibleColumns:Array};function Qu(e,t,o){const v=_(()=>{if(e.columns!==void 0)return e.columns;const d=e.rows[0];return d!==void 0?Object.keys(d).map(i=>({name:i,label:i.toUpperCase(),field:i,align:at(d[i])?"right":"left",sortable:!0})):[]}),l=_(()=>{const{sortBy:d,descending:i}=t.value;return(e.visibleColumns!==void 0?v.value.filter(a=>a.required===!0||e.visibleColumns.includes(a.name)===!0):v.value).map(a=>{const p=a.align||"right",y=`text-${p}`;return{...a,align:p,__iconClass:`q-table__sort-icon q-table__sort-icon--${p}`,__thClass:y+(a.headerClasses!==void 0?" "+a.headerClasses:"")+(a.sortable===!0?" sortable":"")+(a.name===d?` sorted ${i===!0?"sort-desc":""}`:""),__tdStyle:a.style!==void 0?typeof a.style!="function"?()=>a.style:a.style:()=>null,__tdClass:a.classes!==void 0?typeof a.classes!="function"?()=>y+" "+a.classes:E=>y+" "+a.classes(E):()=>y}})}),u=_(()=>{const d={};return l.value.forEach(i=>{d[i.name]=i}),d}),n=_(()=>e.tableColspan!==void 0?e.tableColspan:l.value.length+(o.value===!0?1:0));return{colList:v,computedCols:l,computedColsMap:u,computedColspan:n}}const $e="q-table__bottom row items-center",Ut={};Vt.forEach(e=>{Ut[e]={}});var Lu=ne({name:"QTable",props:{rows:{type:Array,default:()=>[]},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{default:void 0},...Ut,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...Ie,...Su,...Ou,...Au,...wu,...Ru,...xu,...Fu},emits:["request","virtualScroll",...hu,...Iu,...$u],setup(e,{slots:t,emit:o}){const v=oe(),{proxy:{$q:l}}=v,u=Ve(e,l),{inFullscreen:n,toggleFullscreen:d}=Cu(),i=_(()=>typeof e.rowKey=="function"?e.rowKey:s=>s[e.rowKey]),c=w(null),a=w(null),p=_(()=>e.grid!==!0&&e.virtualScroll===!0),y=_(()=>" q-table__card"+(u.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),E=_(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":y.value)+(u.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(n.value===!0?" fullscreen scroll":"")),C=_(()=>E.value+(e.loading===!0?" q-table--loading":""));K(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+E.value,()=>{p.value===!0&&a.value!==null&&a.value.reset()});const{innerPagination:F,computedPagination:r,isServerSide:g,requestServerInteraction:m,setPagination:x}=Pu(v,fe),{computedFilterMethod:q}=qu(e,x),{isRowExpanded:I,setExpanded:te,updateExpanded:z}=Vu(e,o),M=_(()=>{let s=e.rows;if(g.value===!0||s.length===0)return s;const{sortBy:h,descending:A}=r.value;return e.filter&&(s=q.value(s,e.filter,ae.value,fe)),Gt.value!==null&&(s=Yt.value(e.rows===s?s.slice():s,h,A)),s}),J=_(()=>M.value.length),H=_(()=>{let s=M.value;if(g.value===!0)return s;const{rowsPerPage:h}=r.value;return h!==0&&(Be.value===0&&e.rows!==s?s.length>Ae.value&&(s=s.slice(0,Ae.value)):s=s.slice(Be.value,Ae.value)),s}),{hasSelectionMode:re,singleSelection:Le,multipleSelection:P,allRowsSelected:V,someRowsSelected:X,rowsSelectedNumber:se,isRowSelected:Ne,clearSelection:zt,updateSelection:Fe}=Tu(e,o,H,i),{colList:Ht,computedCols:ae,computedColsMap:nt,computedColspan:ot}=Qu(e,r,re),{columnToSort:Gt,computedSortMethod:Yt,sort:Ue}=Bu(e,r,Ht,x),{firstRowIndex:Be,lastRowIndex:Ae,isFirstPage:je,isLastPage:Me,pagesNumber:qe,computedRowsPerPageOptions:Wt,computedRowsNumber:ke,firstPage:ze,prevPage:He,nextPage:Ge,lastPage:Ye}=Du(v,F,r,g,x,J),Kt=_(()=>H.value.length===0),Jt=_(()=>{const s={};return Vt.forEach(h=>{s[h]=e[h]}),s.virtualScrollItemSize===void 0&&(s.virtualScrollItemSize=e.dense===!0?28:48),s});function Xt(){p.value===!0&&a.value.reset()}function Zt(){if(e.grid===!0)return da();const s=e.hideHeader!==!0?dt:null;if(p.value===!0){const A=t["top-row"],k=t["bottom-row"],D={default:N=>st(N.item,t.body,N.index)};if(A!==void 0){const N=f("tbody",A({cols:ae.value}));D.before=s===null?()=>N:()=>[s()].concat(N)}else s!==null&&(D.before=s);return k!==void 0&&(D.after=()=>f("tbody",k({cols:ae.value}))),f(_u,{ref:a,class:e.tableClass,style:e.tableStyle,...Jt.value,scrollTarget:e.virtualScrollTarget,items:H.value,type:"__qtable",tableColspan:ot.value,onVirtualScroll:ta},D)}const h=[aa()];return s!==null&&h.unshift(s()),Nt({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},h)}function ea(s,h){if(a.value!==null){a.value.scrollTo(s,h);return}s=parseInt(s,10);const A=c.value.querySelector(`tbody tr:nth-of-type(${s+1})`);if(A!==null){const k=c.value.querySelector(".q-table__middle.scroll"),D=A.offsetTop-e.virtualScrollStickySizeStart,N=D<k.scrollTop?"decrease":"increase";k.scrollTop=D,o("virtualScroll",{index:s,from:0,to:F.value.rowsPerPage-1,direction:N})}}function ta(s){o("virtualScroll",s)}function rt(){return[f(yu,{class:"q-table__linear-progress",color:e.color,dark:u.value,indeterminate:!0,trackColor:"transparent"})]}function st(s,h,A){const k=i.value(s),D=Ne(k);if(h!==void 0)return h(it({key:k,row:s,pageIndex:A,__trClass:D?"selected":""}));const N=t["body-cell"],O=ae.value.map(G=>{const Pe=t[`body-cell-${G.name}`],De=Pe!==void 0?Pe:N;return De!==void 0?De(ua({key:k,row:s,pageIndex:A,col:G})):f("td",{class:G.__tdClass(s),style:G.__tdStyle(s)},fe(G,s))});if(re.value===!0){const G=t["body-selection"],Pe=G!==void 0?G(la({key:k,row:s,pageIndex:A})):[f(Je,{modelValue:D,color:e.color,dark:u.value,dense:e.dense,"onUpdate:modelValue":(De,va)=>{Fe([k],[s],De,va)}})];O.unshift(f("td",{class:"q-table--col-auto-width"},Pe))}const ue={key:k,class:{selected:D}};return e.onRowClick!==void 0&&(ue.class["cursor-pointer"]=!0,ue.onClick=G=>{o("RowClick",G,s,A)}),e.onRowDblclick!==void 0&&(ue.class["cursor-pointer"]=!0,ue.onDblclick=G=>{o("RowDblclick",G,s,A)}),e.onRowContextmenu!==void 0&&(ue.class["cursor-pointer"]=!0,ue.onContextmenu=G=>{o("RowContextmenu",G,s,A)}),f("tr",ue,O)}function aa(){const s=t.body,h=t["top-row"],A=t["bottom-row"];let k=H.value.map((D,N)=>st(D,s,N));return h!==void 0&&(k=h({cols:ae.value}).concat(k)),A!==void 0&&(k=k.concat(A({cols:ae.value}))),f("tbody",k)}function it(s){return We(s),s.cols=s.cols.map(h=>pe({...h},"value",()=>fe(h,s.row))),s}function ua(s){return We(s),pe(s,"value",()=>fe(s.col,s.row)),s}function la(s){return We(s),s}function We(s){Object.assign(s,{cols:ae.value,colsMap:nt.value,sort:Ue,rowIndex:Be.value+s.pageIndex,color:e.color,dark:u.value,dense:e.dense}),re.value===!0&&pe(s,"selected",()=>Ne(s.key),(h,A)=>{Fe([s.key],[s.row],h,A)}),pe(s,"expand",()=>I(s.key),h=>{z(s.key,h)})}function fe(s,h){const A=typeof s.field=="function"?s.field(h):h[s.field];return s.format!==void 0?s.format(A,h):A}const me=_(()=>({pagination:r.value,pagesNumber:qe.value,isFirstPage:je.value,isLastPage:Me.value,firstPage:ze,prevPage:He,nextPage:Ge,lastPage:Ye,inFullscreen:n.value,toggleFullscreen:d}));function na(){const s=t.top,h=t["top-left"],A=t["top-right"],k=t["top-selection"],D=re.value===!0&&k!==void 0&&se.value>0,N="q-table__top relative-position row items-center";if(s!==void 0)return f("div",{class:N},[s(me.value)]);let O;if(D===!0?O=k(me.value).slice():(O=[],h!==void 0?O.push(f("div",{class:"q-table__control"},[h(me.value)])):e.title&&O.push(f("div",{class:"q-table__control"},[f("div",{class:["q-table__title",e.titleClass]},e.title)]))),A!==void 0&&(O.push(f("div",{class:"q-table__separator col"})),O.push(f("div",{class:"q-table__control"},[A(me.value)]))),O.length!==0)return f("div",{class:N},O)}const ct=_(()=>X.value===!0?null:V.value);function dt(){const s=oa();return e.loading===!0&&t.loading===void 0&&s.push(f("tr",{class:"q-table__progress"},[f("th",{class:"relative-position",colspan:ot.value},rt())])),f("thead",s)}function oa(){const s=t.header,h=t["header-cell"];if(s!==void 0)return s(Ke({header:!0})).slice();const A=ae.value.map(k=>{const D=t[`header-cell-${k.name}`],N=D!==void 0?D:h,O=Ke({col:k});return N!==void 0?N(O):f(vu,{key:k.name,props:O},()=>k.label)});if(Le.value===!0&&e.grid!==!0)A.unshift(f("th",{class:"q-table--col-auto-width"}," "));else if(P.value===!0){const k=t["header-selection"],D=k!==void 0?k(Ke({})):[f(Je,{color:e.color,modelValue:ct.value,dark:u.value,dense:e.dense,"onUpdate:modelValue":vt})];A.unshift(f("th",{class:"q-table--col-auto-width"},D))}return[f("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},A)]}function Ke(s){return Object.assign(s,{cols:ae.value,sort:Ue,colsMap:nt.value,color:e.color,dark:u.value,dense:e.dense}),P.value===!0&&pe(s,"selected",()=>ct.value,vt),s}function vt(s){X.value===!0&&(s=!1),Fe(H.value.map(i.value),H.value,s)}const we=_(()=>{const s=[e.iconFirstPage||l.iconSet.table.firstPage,e.iconPrevPage||l.iconSet.table.prevPage,e.iconNextPage||l.iconSet.table.nextPage,e.iconLastPage||l.iconSet.table.lastPage];return l.lang.rtl===!0?s.reverse():s});function ra(){if(e.hideBottom===!0)return;if(Kt.value===!0){if(e.hideNoData===!0)return;const A=e.loading===!0?e.loadingLabel||l.lang.table.loading:e.filter?e.noResultsLabel||l.lang.table.noResults:e.noDataLabel||l.lang.table.noData,k=t["no-data"],D=k!==void 0?[k({message:A,icon:l.iconSet.table.warning,filter:e.filter})]:[f(ie,{class:"q-table__bottom-nodata-icon",name:l.iconSet.table.warning}),A];return f("div",{class:$e+" q-table__bottom--nodata"},D)}const s=t.bottom;if(s!==void 0)return f("div",{class:$e},[s(me.value)]);const h=e.hideSelectedBanner!==!0&&re.value===!0&&se.value>0?[f("div",{class:"q-table__control"},[f("div",[(e.selectedRowsLabel||l.lang.table.selectedRecords)(se.value)])])]:[];if(e.hidePagination!==!0)return f("div",{class:$e+" justify-end"},ia(h));if(h.length!==0)return f("div",{class:$e},h)}function sa(s){x({page:1,rowsPerPage:s.value})}function ia(s){let h;const{rowsPerPage:A}=r.value,k=e.paginationLabel||l.lang.table.pagination,D=t.pagination,N=e.rowsPerPageOptions.length>1;if(s.push(f("div",{class:"q-table__separator col"})),N===!0&&s.push(f("div",{class:"q-table__control"},[f("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||l.lang.table.recordsPerPage]),f(Ka,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:A,options:Wt.value,displayValue:A===0?l.lang.table.allRows:A,dark:u.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":sa})])),D!==void 0)h=D(me.value);else if(h=[f("span",A!==0?{class:"q-table__bottom-item"}:{},[A?k(Be.value+1,Math.min(Ae.value,ke.value),ke.value):k(1,J.value,ke.value)])],A!==0&&qe.value>1){const O={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(O.size="sm"),qe.value>2&&h.push(f(Q,{key:"pgFirst",...O,icon:we.value[0],disable:je.value,onClick:ze})),h.push(f(Q,{key:"pgPrev",...O,icon:we.value[1],disable:je.value,onClick:He}),f(Q,{key:"pgNext",...O,icon:we.value[2],disable:Me.value,onClick:Ge})),qe.value>2&&h.push(f(Q,{key:"pgLast",...O,icon:we.value[3],disable:Me.value,onClick:Ye}))}return s.push(f("div",{class:"q-table__control"},h)),s}function ca(){const s=e.gridHeader===!0?[f("table",{class:"q-table"},[dt()])]:e.loading===!0&&t.loading===void 0?rt():void 0;return f("div",{class:"q-table__middle"},s)}function da(){const s=t.item!==void 0?t.item:h=>{const A=h.cols.map(D=>f("div",{class:"q-table__grid-item-row"},[f("div",{class:"q-table__grid-item-title"},[D.label]),f("div",{class:"q-table__grid-item-value"},[D.value])]));if(re.value===!0){const D=t["body-selection"],N=D!==void 0?D(h):[f(Je,{modelValue:h.selected,color:e.color,dark:u.value,dense:e.dense,"onUpdate:modelValue":(O,ue)=>{Fe([h.key],[h.row],O,ue)}})];A.unshift(f("div",{class:"q-table__grid-item-row"},N),f(Dt,{dark:u.value}))}const k={class:["q-table__grid-item-card"+y.value,e.cardClass],style:e.cardStyle};return(e.onRowClick!==void 0||e.onRowDblclick!==void 0)&&(k.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(k.onClick=D=>{o("RowClick",D,h.row,h.pageIndex)}),e.onRowDblclick!==void 0&&(k.onDblclick=D=>{o("RowDblclick",D,h.row,h.pageIndex)})),f("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(h.selected===!0?" q-table__grid-item--selected":"")},[f("div",k,A)])};return f("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},H.value.map((h,A)=>s(it({key:i.value(h),row:h,pageIndex:A}))))}return Object.assign(v.proxy,{requestServerInteraction:m,setPagination:x,firstPage:ze,prevPage:He,nextPage:Ge,lastPage:Ye,isRowSelected:Ne,clearSelection:zt,isRowExpanded:I,setExpanded:te,sort:Ue,resetVirtualScroll:Xt,scrollTo:ea,getCellValue:fe}),Fa(v.proxy,{filteredSortedRows:()=>M.value,computedRows:()=>H.value,computedRowsNumber:()=>ke.value}),()=>{const s=[na()],h={ref:c,class:C.value};return e.grid===!0?s.push(ca()):Object.assign(h,{class:[h.class,e.cardClass],style:e.cardStyle}),s.push(Zt(),ra()),e.loading===!0&&t.loading!==void 0&&s.push(t.loading()),f("div",h,s)}}});const Nu=ee({__name:"RechargeList",props:{list:{}},setup(e){const t=[{name:"index",required:!0,label:"\u5E8F\u53F7",align:"center",field:o=>o.index,format:o=>`${o}`,sortable:!0},{name:"amount",align:"center",label:"\u91D1\u989D (\uFFE5)",field:"amount",sortable:!0},{name:"date",align:"center",label:"\u65E5\u671F",field:"date",sortable:!0}];return(o,v)=>(B(),R("div",null,[b(Lu,{class:"my-sticky-header-table",rows:o.list,columns:t,"row-key":"name",pagination:{page:1,rowsPerPage:10},"hide-bottom":"",flat:"",bordered:""},null,8,["rows"])]))}}),Uu=["src"],ju={class:"column justify-center content-start items-start"},Mu={class:"text-caption text-weight-thin"},zu=ee({__name:"SharingUserCard",props:{data:{},max_value:{default:1},step:{default:1}},emits:["info"],setup(e,{emit:t}){const o=e,v=t,l=w(1);function u(){v("info")}function n(){l.value<o.max_value&&(l.value+=o.step)}function d(){l.value>=o.step&&(l.value-=o.step)}return(i,c)=>(B(),R("div",{class:Re(i.$q.dark.isActive?"bg-blue-10":"bg-light-blue-2")},[i.data?Se((B(),$(he,{key:0,class:"q-py-sm",dense:"",clickable:"",onClick:de(u,["stop"])},{default:S(()=>[b(W,{avatar:""},{default:S(()=>[b(Ce,{size:"lg"},{default:S(()=>[T("img",{src:i.data.avatar},null,8,Uu)]),_:1})]),_:1}),b(W,{class:""},{default:S(()=>[T("div",ju,[b(ve,{class:"text-body2"},{default:S(()=>[Y("\u6635\u79F0\uFF1A"+L(i.data.nickname),1)]),_:1}),T("div",Mu," \u7528\u6237\uFF1A"+L(i.data.username),1)])]),_:1}),b(W,{side:"",class:"justify-evenly"},{default:S(()=>[b(ve,{caption:""},{default:S(()=>[Y("\u6BCF\u5468\u4E0A\u9650\uFF1A")]),_:1}),b(Q,{dense:"",outline:"",color:"negative",icon:"remove",round:"",onClick:de(d,["stop"])}),T("div",null,L(l.value),1),b(Q,{dense:"",outline:"",color:"negative",icon:"add",round:"",onClick:de(n,["stop"])})]),_:1})]),_:1})),[[Ee]]):U("",!0)],2))}}),Hu=ee({__name:"ShareBalance",setup(e){const t=w("Submit"),o=w([]);function v(i){i&&o.value.push(i)}function l(){}function u(){}function n(){}function d(){}return(i,c)=>(B(),R("div",null,[b(Ja,{collection:"uni-id-users",onSelected:v}),b(Ot,{class:"q-mt-lg",onSubmit:u,onReset:l},{default:S(()=>[T("div",{class:Re(["q-my-lg row",t.value=="Update"?"justify-between":"justify-end"])},[t.value=="Update"?(B(),R(Z,{key:0},[b(Q,{dense:"",outline:"",color:"negative",icon:"add",round:"",onClick:n}),b(Q,{dense:"",outline:"",color:"negative",icon:"remove",round:"",onClick:d})],64)):U("",!0),b(Q,{class:"q-px-md",dense:"",outline:"","no-caps":"",unelevated:"",label:t.value,type:"submit",color:"primary",icon:"cloud_upload",rounded:""},null,8,["label"])],2)]),_:1}),(B(!0),R(Z,null,ce(o.value,(a,p)=>(B(),R("div",{key:p},[b(zu,{data:a},null,8,["data"])]))),128))]))}}),Gu={class:"q-px-md column"},Yu={class:"text-subtitle2 text-primary"},Wu={class:"q-pt-md",style:{"font-size":"13px"}},Ku={key:0,class:"q-pt-xl"},Ju={key:1,class:"q-pt-md"},Xu={key:2,class:"q-mt-md"},Zu=ee({__name:"UserRecharge",setup(e){const t=["\u5145\u503C","\u8BB0\u5F55","\u5171\u4EAB"],o=Ba([]),v=w(0);w(0),w(0);const l=["1 \u5143\u4EBA\u6C11\u5E01\u5151\u6362 100 \u6C34\u6EF4\u3002","\u5145\u503C\u8BB0\u5F55\u4ECE\u6700\u8FD1\u7684\u65E5\u671F\u5F00\u59CB\u663E\u793A\u3002","\u7D2F\u8BA1\u5145\u503C 200 \u5143\uFF0C\u53EF\u4E0E\u5BB6\u4EBA\u670B\u53CB\u5171\u4EAB\u6B64\u8D26\u53F7\u4E2D\u7684\u6C34\u6EF4\u3002"];let u=0;for(const a of t)o.push({value:u++,label:a});w(!1),w(!1);const n=w(2e3);w(19900);const d=w([]),i=w(2e5);function c(){v.value=1,n.value+=i.value*100;const a=d.value.length+1;d.value.unshift({index:a,amount:i.value,date:Te.formatDate(Date.now(),"YYYY-M-D / H:mm:ss")})}return(a,p)=>(B(),R("div",Gu,[b(Aa,{class:"q-mt-md",flat:"","rounded-borders":"",bordered:""},{default:S(()=>[b(qa,{class:""},{default:S(()=>[T("div",Yu," \u8D26\u6237\u4F59\u989D\uFF1A"+L(n.value)+" \u6C34\u6EF4 ",1),T("div",Wu,L(l[v.value]),1)]),_:1}),b(Dt),o.length?(B(),$(qt,{key:0,dense:"","narrow-indicator":"",modelValue:v.value,"onUpdate:modelValue":p[0]||(p[0]=y=>v.value=y),class:"text-grey-5","active-color":"purple"},{default:S(()=>[(B(!0),R(Z,null,ce(o,(y,E)=>(B(),$(At,{key:E,name:E,label:y.label},null,8,["name","label"]))),128))]),_:1},8,["modelValue"])):U("",!0)]),_:1}),v.value==0?(B(),R("div",Ku,[b(Ga,{slider:"",title:"\u4EBA\u6C11\u5E01 \uFFE5",unit:"\u5143",pay:i.value,"onUpdate:pay":p[1]||(p[1]=y=>i.value=y),min_pay:20,max_pay:2e3,disable:!1,onPaid:c},null,8,["pay"])])):v.value==1?(B(),R("div",Ju,[d.value.length?(B(),$(Nu,{key:0,list:d.value},null,8,["list"])):U("",!0)])):v.value==2?(B(),R("div",Xu,[b(Hu)])):U("",!0)]))}}),el={class:"q-mx-md"},tl={class:"row col justify-between"},al={class:"col-3"},ul=["src"],ll={class:"col-9 q-pl-md"},nl={class:"q-mt-md row col justify-between"},ol={class:"row col justify-between"},rl={key:0,class:"q-mb-md rounded-borders",style:{border:"1px lightgrey solid"}},sl={class:"q-gutter-x-lg"},il={class:"q-mt-lg row justify-between"},cl={class:"q-pt-lg q-pb-xl"},dl=ee({__name:"UserInfo",setup(e){const t=Qt(),o=w(!1),v=w(null),l=w(null),u=w("https://img1.baidu.com/it/u=3834820558,1776972742&fm=253&fmt=auto&app=138&f=JPEG?w=400&h=400");let n;const d={avatar:"",nickname:"",name:"",gender:0,email:"",mobile:"",status:0},i=w(""),c=w({...d});let a={...d};Oe(async()=>{n=t.localStorage.getItem("__QPCF_LOCAL_LOGIN_USER_INFO")[0],console.log("onBeforeMount userInfo:",n),t.sessionStorage.has("__QPCF_SESSION_LOGIN_USER_DATA")||await It(n.uid);const r=t.sessionStorage.getItem("__QPCF_SESSION_LOGIN_USER_DATA");a&&n&&(a.name=n.name||"",a.avatar=r.avatar||"",a.nickname=r.nickname||"",a.email=r.email||"",a.mobile=r.mobile||"",a.last_login_date=r.last_login_date,a.register_date=r.register_date,a.created_at=r.created_at,a.updated_at=r.updated_at,i.value=n.password||"",c.value={...a},!a.created_at&&a.register_date&&(c.value.created_at=a.register_date),!a.updated_at&&a.register_date&&(c.value.updated_at=a.register_date)),console.log("Tab4 formData:",c.value)}),K(()=>v.value,r=>{r&&(c.value.avatar=URL.createObjectURL(r))});async function p(){const r=Rt.getInstance();let g="\u66F4\u65B0\u6210\u529F",m="",x="positive",q="bottom";t.notify({type:"positive",position:"center",timeout:0,icon:"cloud_done",message:`Update User: ${c.value.name} ?`,actions:[{label:"Cancel",color:"white",handler:()=>{}},{label:"Yes",color:"yellow",handler:async()=>{console.log("onSubmit formData:",c.value);const I={_id:n.uid},te=Date.now(),z={...c.value,updated_at:te};if(z.name!==n.name&&(z.username=z.name),console.log("onSubmit body:",z),v.value){const M=a.avatar;let J="",H;M&&!M.includes("blob:http")&&(H=M),J=await za(v.value,H),J&&c.value.avatar&&(v.value=null,c.value.avatar=J,H&&(a.avatar=J))}i.value!==n.password&&await Ha(n.password,i.value)&&(n.password=i.value);try{const M=await r.request("databaseCRUD/update",{query:{collection:"uni-id-users",condition:JSON.stringify(I),body:JSON.stringify(z)}});if(console.log("onSubmit res:",M),M.affectedDocs>0){c.value.updated_at=z.updated_at;const J=t.sessionStorage.getItem("__QPCF_SESSION_LOGIN_USER_DATA");t.sessionStorage.set("__QPCF_SESSION_LOGIN_USER_DATA",{...J,...c.value}),n.password=i.value}else g="\u66F4\u65B0\u5931\u8D25",m="\u7528\u6237\u540D\u4E0E\u5176\u4ED6\u7528\u6237\u7684\u91CD\u590D",x="negative",q="center"}catch(M){g="\u66F4\u65B0\u5931\u8D25",m=typeof M=="string"?M:JSON.stringify(M),x="negative",q="center"}t.notify({type:x,position:q,message:g,caption:m})}}]})}function y(){l.value&&l.value.pickFiles()}function E(){v.value=null,c.value.avatar&&(c.value.avatar="")}function C(r){if(a)switch(r){case"name":case"nickname":case"email":case"mobile":case"password":const g=a[r];g&&(c.value[r]=g);break;case"avatar":const m=a[r];m&&(c.value[r]=m,v.value=null);break}}function F(){c.value={...d}}return(r,g)=>(B(),R("div",el,[c.value.created_at&&c.value.updated_at?(B(),$(Za,{key:0,class:"q-my-md",created_at:c.value.created_at,updated_at:c.value.updated_at},null,8,["created_at","updated_at"])):U("",!0),b(Ot,{onSubmit:p,onReset:F,class:""},{default:S(()=>[T("div",tl,[T("div",al,[b(Ce,{size:"96px",round:"",onClick:y},{default:S(()=>[T("img",{src:c.value.avatar||u.value},null,8,ul)]),_:1})]),T("div",ll,[b(j(Xa),{ref_key:"avatarPicker",ref:l,dense:"",class:"q-mb-md",outlined:"",modelValue:v.value,"onUpdate:modelValue":g[0]||(g[0]=m=>v.value=m),label:r.$t("user_info.load_image"),accept:"image/*"},{append:S(()=>[v.value?(B(),$(ie,{key:0,name:j(_t),onClick:de(E,["stop","prevent"]),class:"cursor-pointer",color:"grey-5"},null,8,["name"])):(B(),$(Q,{key:1,round:"",dense:"",flat:"",icon:"folder_open"}))]),_:1},8,["modelValue","label"]),b(ge,{modelValue:c.value.avatar,"onUpdate:modelValue":g[2]||(g[2]=m=>c.value.avatar=m),outlined:"",label:r.$t("user_info.avatar_url"),hint:"",dense:"","lazy-rules":"",rules:[m=>m.length>=0||"Please type something"]},{append:S(()=>[!c.value.avatar&&!j(a).avatar?(B(),$(ie,{key:0,name:"link",class:"cursor-pointer"})):U("",!0),j(a).avatar&&c.value.avatar!==j(a).avatar?(B(),$(Q,{key:1,round:"",dense:"",flat:"",icon:"settings_backup_restore",onClick:g[1]||(g[1]=m=>C("avatar"))})):U("",!0),c.value.avatar?(B(),$(ie,{key:2,name:j(_t),color:"grey-5",onClick:de(E,["stop","prevent"]),class:"cursor-pointer"},null,8,["name"])):U("",!0)]),_:1},8,["modelValue","label","rules"])])]),T("div",nl,[b(ge,{class:"col-6 q-pr-xs",modelValue:c.value.name,"onUpdate:modelValue":g[4]||(g[4]=m=>c.value.name=m),label:r.$t("user_info.name"),hint:"",clearable:"",dense:"",outlined:"",maxlength:16,"lazy-rules":"",rules:[m=>m.length>=8||"\u957F\u5EA6 8~16 \u4E2A\u5B57\u7B26"]},{append:S(()=>{var m;return[((m=j(a))==null?void 0:m.name)&&j(a).name!==c.value.name?(B(),$(Q,{key:0,round:"",dense:"",flat:"",icon:"settings_backup_restore",onClick:g[3]||(g[3]=x=>C("name"))})):U("",!0)]}),_:1},8,["modelValue","label","rules"]),b(ge,{class:"col-6 q-pl-xs",modelValue:c.value.nickname,"onUpdate:modelValue":g[6]||(g[6]=m=>c.value.nickname=m),label:r.$t("user_info.nickname"),outlined:"",rules:[m=>m.length>=5||"\u957F\u5EA6 8~16 \u4E2A\u5B57\u7B26"],"lazy-rules":"",clearable:"",dense:"",maxlength:16},{append:S(()=>[j(a).nickname&&j(a).nickname!==c.value.nickname?(B(),$(Q,{key:0,round:"",dense:"",flat:"",icon:"settings_backup_restore",onClick:g[5]||(g[5]=m=>C("nickname"))})):U("",!0)]),_:1},8,["modelValue","label","rules"])]),T("div",ol,[b(ge,{class:"col-6 q-pr-xs",modelValue:c.value.mobile,"onUpdate:modelValue":g[8]||(g[8]=m=>c.value.mobile=m),type:"tel",label:r.$t("user_info.mobile"),hint:"","lazy-rules":"",rules:[m=>m.length>=8||"\u7535\u8BDD\u53F7\u7801"],maxlength:24,clearable:"",dense:"",outlined:""},{append:S(()=>[j(a).mobile&&j(a).mobile!==c.value.mobile?(B(),$(Q,{key:0,round:"",dense:"",flat:"",icon:"settings_backup_restore",onClick:g[7]||(g[7]=m=>C("mobile"))})):U("",!0)]),_:1},8,["modelValue","label","rules"]),b(ge,{class:"col-6 q-pl-xs",modelValue:i.value,"onUpdate:modelValue":g[11]||(g[11]=m=>i.value=m),"lazy-rules":"",dense:"",outlined:"",type:o.value?"text":"password",label:r.$t("user_info.password"),maxlength:16,rules:[m=>m.length>=8&&m.length<=16||"\u5BC6\u7801\u957F\u5EA6 8~16 \u4E2A\u5B57\u7B26"]},{append:S(()=>[j(a).password&&i.value!=j(a).password?(B(),$(Q,{key:0,round:"",dense:"",flat:"",icon:"settings_backup_restore",onClick:g[9]||(g[9]=m=>C("password"))})):U("",!0),b(Q,{flat:"",round:"",dense:"",color:"grey-6",icon:o.value?"visibility_off":"visibility",onClick:g[10]||(g[10]=m=>o.value=!o.value)},null,8,["icon"])]),_:1},8,["modelValue","type","label","rules"])]),b(ge,{modelValue:c.value.email,"onUpdate:modelValue":g[13]||(g[13]=m=>c.value.email=m),type:"email",label:r.$t("user_info.email"),outlined:"",rules:[m=>m.length>=5||"\u957F\u5EA6 8~16 \u4E2A\u5B57\u7B26"],"lazy-rules":"",clearable:"",dense:"",maxlength:30},{append:S(()=>[j(a).email&&j(a).email!==c.value.email?(B(),$(Q,{key:0,round:"",dense:"",flat:"",icon:"settings_backup_restore",onClick:g[12]||(g[12]=m=>C("email"))})):U("",!0)]),_:1},8,["modelValue","label","rules"]),c.value.gender>=0?(B(),R("div",rl,[b(he,null,{default:S(()=>[b(W,{class:"q-mr-lg",avatar:""},{default:S(()=>[T("div",null,L(r.$t("user_info.gender")),1)]),_:1}),b(W,{class:""},{default:S(()=>[T("div",sl,[(B(!0),R(Z,null,ce(r.$t("user_info.gender_types").split(","),(m,x)=>(B(),$(ka,{key:x,modelValue:c.value.gender,"onUpdate:modelValue":g[14]||(g[14]=q=>c.value.gender=q),val:x,label:m,dense:""},null,8,["modelValue","val","label"]))),128))])]),_:1})]),_:1})])):U("",!0),T("div",il,[b(Q,{class:"q-px-md",dense:"","no-caps":"",unelevated:"",label:"Reset",type:"reset",color:"primary",icon:"restart_alt",outline:"",rounded:""}),b(Q,{class:"q-px-md",dense:"",outline:"","no-caps":"",unelevated:"",label:"Update",type:"submit",color:"primary",icon:"cloud_upload",rounded:""})])]),_:1}),T("div",cl,[b(Q,{class:"full-width",rounded:"",type:"button",color:"green",to:`/login?lastPath=${r.$route.path}&display=form&currentSeg=3`},{default:S(()=>[Y(L("\u5207\u6362\u7528\u6237"))]),_:1},8,["to"])])]))}});var vl=ne({name:"QStepperNavigation",setup(e,{slots:t}){return()=>f("div",{class:"q-stepper__nav"},le(t.default))}}),jt=ne({name:"StepHeader",props:{stepper:{},step:{},goToPanel:Function},setup(e,{attrs:t}){const{proxy:{$q:o}}=oe(),v=w(null),l=_(()=>e.stepper.modelValue===e.step.name),u=_(()=>{const r=e.step.disable;return r===!0||r===""}),n=_(()=>{const r=e.step.error;return r===!0||r===""}),d=_(()=>{const r=e.step.done;return u.value===!1&&(r===!0||r==="")}),i=_(()=>{const r=e.step.headerNav,g=r===!0||r===""||r===void 0;return u.value===!1&&e.stepper.headerNav&&g}),c=_(()=>e.step.prefix&&(l.value===!1||e.stepper.activeIcon==="none")&&(n.value===!1||e.stepper.errorIcon==="none")&&(d.value===!1||e.stepper.doneIcon==="none")),a=_(()=>{const r=e.step.icon||e.stepper.inactiveIcon;if(l.value===!0){const g=e.step.activeIcon||e.stepper.activeIcon;return g==="none"?r:g||o.iconSet.stepper.active}if(n.value===!0){const g=e.step.errorIcon||e.stepper.errorIcon;return g==="none"?r:g||o.iconSet.stepper.error}if(u.value===!1&&d.value===!0){const g=e.step.doneIcon||e.stepper.doneIcon;return g==="none"?r:g||o.iconSet.stepper.done}return r}),p=_(()=>{const r=n.value===!0?e.step.errorColor||e.stepper.errorColor:void 0;if(l.value===!0){const g=e.step.activeColor||e.stepper.activeColor||e.step.color;return g!==void 0?g:r}return r!==void 0?r:u.value===!1&&d.value===!0?e.step.doneColor||e.stepper.doneColor||e.step.color||e.stepper.inactiveColor:e.step.color||e.stepper.inactiveColor}),y=_(()=>"q-stepper__tab col-grow flex items-center no-wrap relative-position"+(p.value!==void 0?` text-${p.value}`:"")+(n.value===!0?" q-stepper__tab--error q-stepper__tab--error-with-"+(c.value===!0?"prefix":"icon"):"")+(l.value===!0?" q-stepper__tab--active":"")+(d.value===!0?" q-stepper__tab--done":"")+(i.value===!0?" q-stepper__tab--navigation q-focusable q-hoverable":"")+(u.value===!0?" q-stepper__tab--disabled":"")),E=_(()=>e.stepper.headerNav!==!0?!1:i.value);function C(){v.value!==null&&v.value.focus(),l.value===!1&&e.goToPanel(e.step.name)}function F(r){r.keyCode===13&&l.value===!1&&e.goToPanel(e.step.name)}return()=>{const r={class:y.value};i.value===!0&&(r.onClick=C,r.onKeyup=F,Object.assign(r,u.value===!0?{tabindex:-1,"aria-disabled":"true"}:{tabindex:t.tabindex||0}));const g=[f("div",{class:"q-focus-helper",tabindex:-1,ref:v}),f("div",{class:"q-stepper__dot row flex-center q-stepper__line relative-position"},[f("span",{class:"row flex-center"},[c.value===!0?e.step.prefix:f(ie,{name:a.value})])])];if(e.step.title!==void 0&&e.step.title!==null){const m=[f("div",{class:"q-stepper__title"},e.step.title)];e.step.caption!==void 0&&e.step.caption!==null&&m.push(f("div",{class:"q-stepper__caption"},e.step.caption)),g.push(f("div",{class:"q-stepper__label q-stepper__line relative-position"},m))}return Se(f("div",r,g),[[Ee,E.value]])}}});function fl(e){const t=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((o,v)=>{const l=parseFloat(o);l&&(t[v]=l)}),t}var ml=wa({name:"touch-swipe",beforeMount(e,{value:t,arg:o,modifiers:v}){if(v.mouse!==!0&&_e.has.touch!==!0)return;const l=v.mouseCapture===!0?"Capture":"",u={handler:t,sensitivity:fl(o),direction:bt(v),noop:Pa,mouseStart(n){yt(n,u)&&Da(n)&&(xe(u,"temp",[[document,"mousemove","move",`notPassive${l}`],[document,"mouseup","end","notPassiveCapture"]]),u.start(n,!0))},touchStart(n){if(yt(n,u)){const d=n.target;xe(u,"temp",[[d,"touchmove","move","notPassiveCapture"],[d,"touchcancel","end","notPassiveCapture"],[d,"touchend","end","notPassiveCapture"]]),u.start(n)}},start(n,d){_e.is.firefox===!0&&Xe(e,!0);const i=pt(n);u.event={x:i.left,y:i.top,time:Date.now(),mouse:d===!0,dir:!1}},move(n){if(u.event===void 0)return;if(u.event.dir!==!1){Ze(n);return}const d=Date.now()-u.event.time;if(d===0)return;const i=pt(n),c=i.left-u.event.x,a=Math.abs(c),p=i.top-u.event.y,y=Math.abs(p);if(u.event.mouse!==!0){if(a<u.sensitivity[1]&&y<u.sensitivity[1]){u.end(n);return}}else if(window.getSelection().toString()!==""){u.end(n);return}else if(a<u.sensitivity[2]&&y<u.sensitivity[2])return;const E=a/d,C=y/d;u.direction.vertical===!0&&a<y&&a<100&&C>u.sensitivity[0]&&(u.event.dir=p<0?"up":"down"),u.direction.horizontal===!0&&a>y&&y<100&&E>u.sensitivity[0]&&(u.event.dir=c<0?"left":"right"),u.direction.up===!0&&a<y&&p<0&&a<100&&C>u.sensitivity[0]&&(u.event.dir="up"),u.direction.down===!0&&a<y&&p>0&&a<100&&C>u.sensitivity[0]&&(u.event.dir="down"),u.direction.left===!0&&a>y&&c<0&&y<100&&E>u.sensitivity[0]&&(u.event.dir="left"),u.direction.right===!0&&a>y&&c>0&&y<100&&E>u.sensitivity[0]&&(u.event.dir="right"),u.event.dir!==!1?(Ze(n),u.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),au(),u.styleCleanup=F=>{u.styleCleanup=void 0,document.body.classList.remove("non-selectable");const r=()=>{document.body.classList.remove("no-pointer-events--children")};F===!0?setTimeout(r,50):r()}),u.handler({evt:n,touch:u.event.mouse!==!0,mouse:u.event.mouse,direction:u.event.dir,duration:d,distance:{x:a,y}})):u.end(n)},end(n){u.event!==void 0&&(et(u,"temp"),_e.is.firefox===!0&&Xe(e,!1),u.styleCleanup!==void 0&&u.styleCleanup(!0),n!==void 0&&u.event.dir!==!1&&Ze(n),u.event=void 0)}};if(e.__qtouchswipe=u,v.mouse===!0){const n=v.mouseCapture===!0||v.mousecapture===!0?"Capture":"";xe(u,"main",[[e,"mousedown","mouseStart",`passive${n}`]])}_e.has.touch===!0&&xe(u,"main",[[e,"touchstart","touchStart",`passive${v.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const o=e.__qtouchswipe;o!==void 0&&(t.oldValue!==t.value&&(typeof t.value!="function"&&o.end(),o.handler=t.value),o.direction=bt(t.modifiers))},beforeUnmount(e){const t=e.__qtouchswipe;t!==void 0&&(et(t,"main"),et(t,"temp"),_e.is.firefox===!0&&Xe(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(),delete e.__qtouchswipe)}});const gl={name:{required:!0},disable:Boolean},Ft={setup(e,{slots:t}){return()=>f("div",{class:"q-panel scroll",role:"tabpanel"},le(t.default))}},pl={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},_l=["update:modelValue","beforeTransition","transition"];function bl(){const{props:e,emit:t,proxy:o}=oe(),{getCacheWithFn:v}=Lt();let l,u;const n=w(null),d=w(null);function i(P){const V=e.vertical===!0?"up":"left";z((o.$q.lang.rtl===!0?-1:1)*(P.direction===V?1:-1))}const c=_(()=>[[ml,i,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),a=_(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),p=_(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),y=_(()=>`--q-transition-duration: ${e.transitionDuration}ms`),E=_(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),C=_(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),F=_(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);K(()=>e.modelValue,(P,V)=>{const X=x(P)===!0?q(P):-1;u!==!0&&te(X===-1?0:X<q(V)?-1:1),n.value!==X&&(n.value=X,t("beforeTransition",P,V),lt(()=>{t("transition",P,V)}))});function r(){z(1)}function g(){z(-1)}function m(P){t("update:modelValue",P)}function x(P){return P!=null&&P!==""}function q(P){return l.findIndex(V=>V.props.name===P&&V.props.disable!==""&&V.props.disable!==!0)}function I(){return l.filter(P=>P.props.disable!==""&&P.props.disable!==!0)}function te(P){const V=P!==0&&e.animated===!0&&n.value!==-1?"q-transition--"+(P===-1?a.value:p.value):null;d.value!==V&&(d.value=V)}function z(P,V=n.value){let X=V+P;for(;X>-1&&X<l.length;){const se=l[X];if(se!==void 0&&se.props.disable!==""&&se.props.disable!==!0){te(P),u=!0,t("update:modelValue",se.props.name),setTimeout(()=>{u=!1});return}X+=P}e.infinite===!0&&l.length!==0&&V!==-1&&V!==l.length&&z(P,P===-1?l.length:-1)}function M(){const P=q(e.modelValue);return n.value!==P&&(n.value=P),!0}function J(){const P=x(e.modelValue)===!0&&M()&&l[n.value];return e.keepAlive===!0?[f(xt,C.value,[f(F.value===!0?v(E.value,()=>({...Ft,name:E.value})):Ft,{key:E.value,style:y.value},()=>P)])]:[f("div",{class:"q-panel scroll",style:y.value,key:E.value,role:"tabpanel"},[P])]}function H(){if(l.length!==0)return e.animated===!0?[f(xa,{name:d.value},J)]:J()}function re(P){return l=$a(le(P.default,[])).filter(V=>V.props!==null&&V.props.slot===void 0&&x(V.props.name)===!0),l.length}function Le(){return l}return Object.assign(o,{next:r,previous:g,goTo:m}),{panelIndex:n,panelDirectives:c,updatePanelsList:re,updatePanelIndex:M,getPanelContent:H,getEnabledPanels:I,getPanels:Le,isValidPanelName:x,keepAliveProps:C,needsUniqueKeepAliveWrapper:F,goToPanelByOffset:z,goToPanel:m,nextPanel:r,previousPanel:g}}function Mt(e){return f("div",{class:"q-stepper__step-content"},[f("div",{class:"q-stepper__step-inner"},le(e.default))])}const Bt={setup(e,{slots:t}){return()=>Mt(t)}};var yl=ne({name:"QStep",props:{...gl,icon:String,color:String,title:{type:String,required:!0},caption:String,prefix:[String,Number],doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String,headerNav:{type:Boolean,default:!0},done:Boolean,error:Boolean,onScroll:[Function,Array]},setup(e,{slots:t,emit:o}){const{proxy:{$q:v}}=oe(),l=Ta($t,tt);if(l===tt)return console.error("QStep needs to be a child of QStepper"),tt;const{getCacheWithFn:u}=Lt(),n=w(null),d=_(()=>l.value.modelValue===e.name),i=_(()=>v.platform.is.ios!==!0&&v.platform.is.chrome===!0||d.value!==!0||l.value.vertical!==!0?{}:{onScroll(p){const{target:y}=p;y.scrollTop>0&&(y.scrollTop=0),e.onScroll!==void 0&&o("scroll",p)}}),c=_(()=>typeof e.name=="string"||typeof e.name=="number"?e.name:String(e.name));function a(){const p=l.value.vertical;return p===!0&&l.value.keepAlive===!0?f(xt,l.value.keepAliveProps.value,d.value===!0?[f(l.value.needsUniqueKeepAliveWrapper.value===!0?u(c.value,()=>({...Bt,name:c.value})):Bt,{key:c.value},t.default)]:void 0):p!==!0||d.value===!0?Mt(t):void 0}return()=>f("div",{ref:n,class:"q-stepper__step",role:"tabpanel",...i.value},l.value.vertical===!0?[f(jt,{stepper:l.value,step:e,goToPanel:l.value.goToPanel}),l.value.animated===!0?f(eu,a):a()]:[a()])}});const Sl=/(-\w)/g;function hl(e){const t={};for(const o in e){const v=o.replace(Sl,l=>l[1].toUpperCase());t[v]=e[o]}return t}var Cl=ne({name:"QStepper",props:{...Ie,...pl,flat:Boolean,bordered:Boolean,alternativeLabels:Boolean,headerNav:Boolean,contracted:Boolean,headerClass:String,inactiveColor:String,inactiveIcon:String,doneIcon:String,doneColor:String,activeIcon:String,activeColor:String,errorIcon:String,errorColor:String},emits:_l,setup(e,{slots:t}){const o=oe(),v=Ve(e,o.proxy.$q),{updatePanelsList:l,isValidPanelName:u,updatePanelIndex:n,getPanelContent:d,getPanels:i,panelDirectives:c,goToPanel:a,keepAliveProps:p,needsUniqueKeepAliveWrapper:y}=bl();Ra($t,_(()=>({goToPanel:a,keepAliveProps:p,needsUniqueKeepAliveWrapper:y,...e})));const E=_(()=>`q-stepper q-stepper--${e.vertical===!0?"vertical":"horizontal"}`+(e.flat===!0?" q-stepper--flat":"")+(e.bordered===!0?" q-stepper--bordered":"")+(v.value===!0?" q-stepper--dark q-dark":"")),C=_(()=>`q-stepper__header row items-stretch justify-between q-stepper__header--${e.alternativeLabels===!0?"alternative":"standard"}-labels`+(e.flat===!1||e.bordered===!0?" q-stepper__header--border":"")+(e.contracted===!0?" q-stepper__header--contracted":"")+(e.headerClass!==void 0?` ${e.headerClass}`:""));function F(){const r=le(t.message,[]);if(e.vertical===!0){u(e.modelValue)&&n();const g=f("div",{class:"q-stepper__content"},le(t.default));return r===void 0?[g]:r.concat(g)}return[f("div",{class:C.value},i().map(g=>{const m=hl(g.props);return f(jt,{key:m.name,stepper:e,step:m,goToPanel:a})})),r,Ia("div",{class:"q-stepper__content q-panel-parent"},d(),"cont",e.swipeable,()=>c.value)]}return()=>(l(t),f("div",{class:E.value},ut(t.navigation,F())))}});const El={class:"q-px-md"},Fl=ee({__name:"UserHelp",setup(e){const t=w([]),o=[{chapter:"\u5982\u4F55\u70B9\u64AD\u8282\u76EE\uFF1F",content:[{title:'\u8FDB\u5165 "\u70B9\u64AD" \u9875\u9762',desc:'\u70B9\u51FB\u5C4F\u5E55\u5E95\u90E8 "\u70B9\u64AD" \u56FE\u6807'},{title:"\u7B2C\u4E00\u6B65\uFF1A\u9009\u55B7\u6CC9",desc:"\u70B9\u51FB\u60F3\u9009\u62E9\u7684\u55B7\u6CC9\u56FE\u7247"},{title:"\u7B2C\u4E8C\u6B65\uFF1A\u9009\u8282\u76EE",desc:"\u8282\u76EE\u6709\u51E0\u79CD\u7C7B\u578B\uFF0C\u53EF\u70B9\u51FB\u6807\u7B7E\u5207\u6362\u3002\u9009\u4E2D\u559C\u6B22\u7684\u8282\u76EE\u3002"},{title:"\u6700\u540E\u4E00\u6B65\uFF1A\u9009\u573A\u6B21\uFF0C\u652F\u4ED8",desc:"\u5148\u9009\u573A\u6B21\uFF0C\u518D\u652F\u4ED8\uFF0C\u5373\u53EF\u5B8C\u6210\u4E00\u6B21\u8282\u76EE\u70B9\u64AD\u3002\u573A\u6B21\u65E5\u671F\u4E3A\u5F53\u5929\u6216\u7B2C\u4E8C\u5929\uFF0C\u8BF7\u7279\u522B\u7559\u610F\u3002"},{title:"\u91CD\u65B0\u9009\u62E9\u55B7\u6CC9\u6216\u8282\u76EE",desc:"\u70B9\u51FB\u9875\u9762\u4E0A\u65B9\u7684\u55B7\u6CC9\u540D\u79F0\u6216\u8282\u76EE\u540D\u79F0\uFF0C\u5373\u53EF\u56DE\u5230\u55B7\u6CC9\u6216\u8282\u76EE\u5217\u8868\u91CD\u65B0\u9009\u62E9\u3002"}]},{chapter:"\u5982\u4F55\u6267\u884C\u4E92\u52A8\u8282\u76EE\uFF1F",content:[{title:'\u8FDB\u5165 "\u4E92\u52A8\u51C6\u5907" \u9875\u9762',desc:'\u70B9\u51FB\u5C4F\u5E55\u5E95\u90E8 "\u4E92\u52A8" \u56FE\u6807'},{title:"\u68C0\u67E5\u8BBE\u5907\u72B6\u6001\u4FE1\u606F",desc:"\u67E5\u770B\u60A8\u7684\u624B\u673A\u6216\u5E73\u677F\u72B6\u6001\u662F\u5426\u9002\u5408\u4E92\u52A8\u8282\u76EE"},{title:"\u4E92\u52A8\u8282\u76EE\u6267\u884C",desc:"\u60A8\u5728\u55B7\u6CC9\u73B0\u573A\u4E00\u542C\u5230\u5E7F\u64AD\u8BED\u97F3\u63D0\u793A\uFF0C\u5C3D\u5FEB\u8FDB\u5165\u4E92\u52A8\u51C6\u5907\u9875\u9762\u3002\u7B49\u63D0\u793A\u7A97\u53E3\u51FA\u73B0\uFF0C\u6309\u4E0B\u3010\u786E\u8BA4\u3011\u6309\u94AE\u5373\u53EF\u4E0E\u55B7\u6CC9\u4E92\u52A8\u3002\uFF08\u524D\u63D0\u662F\u60A8\u5DF2\u7ECF\u70B9\u64AD\u4E86\u4E00\u4E2A\u4E92\u52A8\u8282\u76EE\u3002\uFF09"}]},{chapter:"\u5982\u4F55\u67E5\u770B\u8282\u76EE\u64AD\u653E\u5217\u8868\uFF1F",content:[{title:'\u8FDB\u5165 "\u64AD\u653E\u5217\u8868" \u9875\u9762',desc:'\u70B9\u51FB\u5C4F\u5E55\u5E95\u90E8 "\u64AD\u653E\u5217\u8868" \u56FE\u6807'},{title:"\u9009\u55B7\u6CC9",desc:"\u70B9\u51FB\u60F3\u9009\u62E9\u7684\u55B7\u6CC9\u56FE\u7247\u3002\u5982\u679C\u4E4B\u524D\u70B9\u64AD\u8282\u76EE\u65F6\u5DF2\u7ECF\u9009\u62E9\u4E86\u55B7\u6CC9\uFF0C\u5219\u81EA\u52A8\u7565\u8FC7\u6B64\u6B65\u9AA4\uFF0C\u8FDB\u5165\u5230\u4E0B\u4E00\u4E2A\u9875\u9762\u3002"},{title:"\u9009\u573A\u6B21",desc:"\u70B9\u51FB\u573A\u6B21\u65F6\u95F4\u6807\u7B7E\u5207\u6362\u5BF9\u5E94\u7684\u8282\u76EE\u5217\u8868\u3002\u65E5\u671F\u4E3A\u5F53\u5929\u6216\u4E0B\u4E00\u4E2A\u8868\u6F14\u65E5\uFF0C\u8BF7\u7279\u522B\u6CE8\u610F\u3002"}]},{chapter:"\u5982\u4F55\u9884\u5B9A\u4E13\u573A\uFF1F",content:[{title:'\u8FDB\u5165 "\u6211\u7684" \u9875\u9762',desc:'\u70B9\u51FB\u5C4F\u5E55\u5E95\u90E8 "\u6211\u7684" \u56FE\u6807'},{title:'\u70B9\u51FB "\u670D\u52A1" \u6807\u7B7E',desc:'"\u670D\u52A1" \u6807\u7B7E\u5728\u5934\u50CF\u53F3\u4E0B\u65B9\u3002'},{title:'\u70B9\u51FB "\u9884\u5B9A\u4E13\u573A" ',desc:'\u8FDB\u5165 "\u9884\u5B9A\u4E13\u573A" \u9875\u9762\u3002'},{title:'\u9009\u62E9 "\u5F00\u59CB\u65F6\u95F4" ',desc:"\u8BF7\u4E00\u5B9A\u5148\u786E\u8BA4\u597D\u65E5\u671F\u548C\u55B7\u6CC9\u540D\u79F0\u3002"},{title:'\u9009\u62E9 "\u65F6\u957F" ',desc:"1 \u5C0F\u65F6\u30011.5 \u5C0F\u65F6\u30012 \u5C0F\u65F6\u3002"},{title:"\u652F\u4ED8",desc:"\u5982\u679C\u56E0\u4E3A\u4E0D\u53EF\u6297\u62D2\u7684\u56E0\u7D20\u672A\u80FD\u5982\u671F\u64AD\u653E\uFF0C\u60A8\u53EF\u968F\u65F6\u64CD\u4F5C\u9000\u56DE\u5168\u6B3E\u3002"},{title:"\u5171\u4EAB",desc:"\u4E0E\u5BB6\u4EBA\u6216\u597D\u53CB\u5171\u4EAB\u672C\u6B21\u4E13\u573A\u3002\u5C06\u8282\u76EE\u6B21\u6570\u5206\u53D1\u7ED9\u4ED6\u4EEC\u3002"}]}];return t.value=Array(o.length).fill(0),(v,l)=>(B(),R("div",El,[b(Qe,{bordered:"",class:"rounded-borders"},{default:S(()=>[(B(),R(Z,null,ce(o,(u,n)=>b(tu,{key:n,"expand-separator":"",icon:"help",label:u.chapter,"label-lines":"1",caption:""},{default:S(()=>[(B(!0),R(Z,null,ce(u.content,(d,i)=>(B(),$(Cl,{key:i,modelValue:t.value[n],"onUpdate:modelValue":c=>t.value[n]=c,vertical:"",color:"primary",animated:""},{default:S(()=>[b(yl,{name:i,title:d.title,icon:"assignment"},{default:S(()=>[Y(L(d.desc)+" ",1),b(vl,{class:"row justify-end"},{default:S(()=>[i>0?(B(),$(Q,{key:0,class:"bg-pink-2",flat:"",dense:"",round:"",onClick:c=>t.value[n]=i-1,color:"primary",icon:"keyboard_arrow_up"},null,8,["onClick"])):U("",!0),b(Q,{class:"q-ml-sm bg-pink-2",flat:"",dense:"",round:"",color:"primary",icon:i>=u.content.length-1?"vertical_align_top":"keyboard_arrow_down",onClick:c=>t.value[n]=i>=u.content.length-1?0:i+1},null,8,["icon","onClick"])]),_:2},1024)]),_:2},1032,["name","title"])]),_:2},1032,["modelValue","onUpdate:modelValue"]))),128))]),_:2},1032,["label"])),64))]),_:1})]))}}),Bl={class:"q-pt-xs text-body2 text-blue-9"},Al={style:{"font-size":"14px"}},ql=ee({__name:"ServiceTitles",setup(e){const t=Tt(),o=Va(),v=w(!0),l=[{title:"\u9884\u8BA2\u4E13\u573A",note:"\u53EA\u53EF\u9884\u5B9A 24 \u5C0F\u65F6\u4E4B\u540E\u7684\u4E13\u573A\u3002",url:"/services/custom_show",icon:"today"},{title:"\u53D1\u5E03\u901A\u77E5\u3001\u542F\u793A",note:"\u8F93\u5165\u6587\u5B57\uFF0C\u5408\u6210\u8BED\u97F3\u3002\u63D2\u64AD\u60A8\u7684\u901A\u77E5\uFF0C\u6216\u5BFB\u4EBA\u3001\u5BFB\u7269\u542F\u793A\u3002",url:"/services/custom_broadcast",icon:"radio"},{title:"\u53D1\u5E03\u5E7F\u544A",note:"\u5728\u8282\u76EE\u64AD\u653E\u524D\u7684\u81EA\u52A8\u62A5\u5E55\u65F6\uFF0C\u8BED\u97F3\u63D2\u64AD\u60A8\u4E0B\u5355\u7684\u5E7F\u544A\u3002\u665A\u573A\u53EF\u52A0\u89C6\u9891\u3002",url:"/services/custom_ads",icon:"videocam"},{title:"\u5546\u52A1\u5408\u4F5C",note:"\u60A8\u5E0C\u671B\u5C06\u81EA\u5DF1\u62E5\u6709\u7684\u55B7\u6CC9\u7CFB\u7EDF\u5347\u7EA7\u4E3A\u4E92\u52A8\u55B7\u6CC9\u3002\u8BF7\u7559\u8A00\u3002",url:"/services/custom_upgrade",icon:"groups"},{title:"\u53CD\u9988\u610F\u89C1",note:"\u5982\u679C\u60A8\u5BF9\u670D\u52A1\u6709\u610F\u89C1\u6216\u5EFA\u8BAE\uFF0C\u8BF7\u7559\u8A00\u3002",url:"/services/custom_feedback",icon:"chat"},{title:"\u7BA1\u7406\u754C\u9762",note:"\u55B7\u6CC9\u7CFB\u7EDF\u7BA1\u7406\u4EBA\u5458\uFF0C\u9700\u8F93\u5165\u5BC6\u7801\u3002",url:"/manage",icon:"dashboard"}];function u(n){/manage/.test(n)&&typeof t.query.lastPath=="string"?o.push(t.query.lastPath):o.push(n)}return(n,d)=>(B(),$(Qe,{separator:"",class:""},{default:S(()=>[(B(),R(Z,null,ce(l,i=>Se(b(he,{key:i.url,onClick:c=>u(i.url),clickable:"",dense:""},{default:S(()=>[i.title!=="\u7BA1\u7406\u754C\u9762"||i.title==="\u7BA1\u7406\u754C\u9762"&&v.value?(B(),R(Z,{key:0},[b(W,{avatar:""},{default:S(()=>[b(Ce,{size:"xl",rounded:""},{default:S(()=>[b(ie,{name:i.icon,color:"teal"},null,8,["name"])]),_:2},1024)]),_:2},1024),b(W,{class:"text-left column justify-evenly"},{default:S(()=>[T("div",Bl,L(i.title),1),T("div",Al,L(i.note),1)]),_:2},1024),b(W,{side:""},{default:S(()=>[b(ie,{name:"keyboard_arrow_right"})]),_:1})],64)):U("",!0)]),_:2},1032,["onClick"]),[[Ee]])),64))]),_:1}))}}),vn=ee({__name:"Tab4Page",setup(e){const t=Qt(),o=Tt();let v=["\u670D\u52A1","\u8BA2\u5355","\u5145\u503C","\u4E2A\u4EBA","\u5E2E\u52A9"];const l=w([]),u=w(0),n=[ql,du,Zu,dl,Fl];let d;Oe(async()=>{if(t.sessionStorage.has("__QPCF_TAB4_PAGE_STATUS")){const p=t.sessionStorage.getItem("__QPCF_TAB4_PAGE_STATUS");v=p.services,l.value=p.segments,u.value=p.currentSeg}if(o.query.currentSeg&&(u.value=parseInt(o.query.currentSeg)),!t.sessionStorage.has("__QPCF_SESSION_LOGIN_USER_DATA")){const p=t.localStorage.getItem("__QPCF_LOCAL_LOGIN_USER_INFO")[0].uid;await It(p)}d=t.sessionStorage.getItem("__QPCF_SESSION_LOGIN_USER_DATA"),d.role=["manager","engineer"],console.log("Tab4 userInfo:",d)}),Oa(()=>{t.sessionStorage.set("__QPCF_TAB4_PAGE_STATUS",{services:v,segments:l.value,currentSeg:u.value}),console.log("Tab4 onUnmounted()")}),wt(()=>{console.log("Tab4 onActivated()")}),Qa(()=>{if(console.log("Tab4 onUpdated()"),t.sessionStorage.has("__QPCF_SESSION_LOGIN_MESSAGE")){const p=t.sessionStorage.getItem("__QPCF_SESSION_LOGIN_MESSAGE");console.log("Tab4 __QPCF_SESSION_LOGIN_MESSAGE message: ",p),t.sessionStorage.remove("__QPCF_SESSION_LOGIN_MESSAGE"),t.notify({message:p,caption:"5 minutes ago",color:"secondary"})}});let i=0;for(const p of v)l.value.push({value:i++,label:p});const c=w(),a=_(()=>{var y;return{paddingTop:(((y=c.value)==null?void 0:y.clientHeight)||0)+"px"}});return(p,y)=>(B(),$(pa,{style:La(a.value)},{default:S(()=>[(B(),$(Na(n[u.value]),{class:"q-mt-md"})),b(ga,{expand:"",position:"top"},{default:S(()=>[b(ma,{class:Re(["q-px-none shadow-8",j(t).dark.isActive?"bg-grey-8":"bg-grey-2  semi-transparent"])},{default:S(()=>[b(fa,{class:"text-subtitle1 text-center"},{default:S(()=>[T("div",{ref_key:"page_sticky",ref:c},[b(ou,{data:j(d),onInfo:y[0]||(y[0]=E=>u.value=3)},null,8,["data"]),l.value.length?(B(),$(qt,{key:0,modelValue:u.value,"onUpdate:modelValue":y[1]||(y[1]=E=>u.value=E),dense:"","inline-label":"",class:"col text-purple-3","active-color":"purple"},{default:S(()=>[(B(!0),R(Z,null,ce(l.value,(E,C)=>(B(),$(At,{key:C,name:C,label:E.label},null,8,["name","label"]))),128))]),_:1},8,["modelValue"])):U("",!0)],512)]),_:1})]),_:1},8,["class"])]),_:1})]),_:1},8,["style"]))}});export{vn as default};
